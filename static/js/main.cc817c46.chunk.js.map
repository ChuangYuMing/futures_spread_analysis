{"version":3,"sources":["api/api.js","utils/index.js","utils/hightChartOptionsFactory.js","utils/chart.js","components/weighted-index/WeightedIndex.jsx","components/common/year-selector/YearSelector.jsx","components/common/item-selector/ItemSelector.jsx","components/option-open-interest/OptionOpenInterest.jsx","view/OptionOpenInterestVIew.jsx","components/futures-open-interest/FuturesOpenInterest.jsx","view/FuturesOpenInterestView.jsx","components/futures-big-open-interest/FuturesBigOpenInterest.jsx","view/FuturesBigOpenInterestView.jsx","components/navigation/Navigation.jsx","components/loan-and-lending-analysis/rules.js","components/loan-and-lending-analysis/RuleInput.jsx","components/loan-and-lending-analysis/LoanAndLendingAnalysis.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["ApiInstance","axios","create","baseURL","target","get","then","data","debounce","func","timer","timeout","args","clearTimeout","setTimeout","toThousands","num","toString","replace","hightChartCommon","subject","yName","year","seriesType","handleHoverDate","title","text","x","subtitle","yAxis","plotLines","value","width","color","xAxis","type","labels","format","rotation","align","rangeSelector","selected","tooltip","valueSuffix","useHTML","formatter","this","points","point","date","html","y","is_settle","legend","layout","verticalAlign","borderWidth","plotOptions","candlestick","upColor","series","turboThreshold","name","hightChartMultiple","reduce","acc","cur","zoomToAll","chart","newStart","xData","newEnd","length","setExtremes","WeightedIndex","chartComponent","useRef","useState","options","setOptions","useEffect","Api","res","stockData","key","item","obj","Date","parse","close","parseInt","w_index","open","high","low","push","chartOptions","current","ref","highcharts","Highcharts","constructorType","YearSelector","defaultYear","handler","yearOptions","Array","fill","map","index","option","className","htmlFor","onChange","event","ItemSelector","itemMap","selectedChartTypes","splitItem","handleChange","dataset","newTypes","includes","splice","indexOf","sortTypes","filter","splitItemIndex","findIndex","itemGroupOne","slice","itemGroupTwo","itemFactory","isActive","tabIndex","clsx","onClick","onKeyDown","role","groupOneItems","groupTwoItems","defaultProps","AnnotationsModule","OptionOpenInterest","chartTypes","targetValue","setChartOptions","chartComponents","apiData","setApiData","setChartType","clearAll","keepHoverDate","debounceHandleHoverDate","chartTitle","charts","forEach","removeAnnotation","addAnnotation","id","labelOptions","distance","chartOptionFactory","component","ey","element","OptionOpenInterestVIew","getFullYear","String","setYear","FuturesOpenInterest","seriesDataFactory","targetPropertyCheck","targetProperty","yValue","FuturesOpenInterestView","FuturesBigOpenInterest","chartCombineOptions","setChartCombineOptions","chartCombineComponents","FuturesBigOpenInterestView","Navigation","pathPrefix","process","navMap","route","isMatch","useRouteMatch","to","getLendingByDay","resData","day","creditData","credit_data","creditLength","Object","keys","i","bw_sell_on_day","getLendingBalanceReduceByDay","byDayData","bw_return_on_day","filterStockFuturesList","stockFuturesList","stock","code","RuleInput","ruleName","toggleRule","actionType","checked","setChecked","dayInput","setDayInput","isEnable","LoanAndLendingAnalysis","setStockFuturesList","rulesMap","callBack","activeRules","setActiveRules","setCreditData","result","setResult","stockInfo","setStockInfo","selectedCode","setSelectedCode","ruleObj","newRules","targetRule","find","rule","hasEnable","newObj","getResult","formatInfoData","parseFloat","toFixed","rowSpan","colSpan","sort","a","b","sl_preDay_balance","sl_sell","sl_buy","sl_cash_stock","sl_day_balance","sl_limit","bw_preDay_balance","bw_adjust_on_day","bw_day_balance","bw_limit_on_next_business_day","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cc817c46.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst ApiInstance = axios.create({\n  baseURL: 'https://storage.googleapis.com/jamie_stock/'\n})\n\nexport default {\n  getWeightIndex(target) {\n    return ApiInstance.get(`weighted_index/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getOptionOpen(target) {\n    return ApiInstance.get(`three_corporate_option_opi/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getFuturesOpen(target) {\n    return ApiInstance.get(`three_corporate_open_interest/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getFuturesBigOpen(target) {\n    return ApiInstance.get(`tx_open_interest/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getLoanAndLending() {\n    return ApiInstance.get(\n      `securities_loan_and_stock_lending/loan-and-lending.json`\n    ).then(({ data }) => data)\n  },\n  getStockFuturesList() {\n    return ApiInstance.get(`stock_futures_list/stock_futures_list.json`).then(\n      ({ data }) => data\n    )\n  }\n}\n","export function debounce(func, timeout = 1000) {\n  let timer\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n      func(...args)\n    }, timeout)\n  }\n}\n\nexport function toThousands(num) {\n  return (num || 0).toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,')\n}\n","import { toThousands } from './index'\n\nexport const hightChartCommon = ({\n  subject,\n  yName,\n  year,\n  data,\n  seriesType = 'line',\n  handleHoverDate = () => {}\n}) => ({\n  title: {\n    text: `${year} ${subject}`,\n    x: -20 // center\n  },\n  subtitle: {\n    text: '',\n    x: -20\n  },\n  yAxis: {\n    title: {\n      text: yName\n    },\n    plotLines: [\n      {\n        value: 0,\n        width: 1,\n        color: '#808080'\n      }\n    ]\n  },\n  xAxis: {\n    type: 'datetime',\n    labels: {\n      format: '{value:%m/%d}',\n      rotation: 45,\n      align: 'left'\n    }\n  },\n  rangeSelector: {\n    selected: 5\n  },\n  tooltip: {\n    valueSuffix: '',\n    useHTML: true,\n    formatter() {\n      handleHoverDate(this.points[0].point.date, `${year} ${subject}`)\n\n      let html =\n        `<span>日期：<span>${this.points[0].point.date}<br>` +\n        `<span>${yName}: <span>${toThousands(this.points[0].point.y)}<br>`\n\n      if (this.points[0].point.is_settle === true) {\n        html += '<span style=\"color: red\">結算日<span>'\n      }\n      return html\n    }\n  },\n  legend: {\n    layout: 'vertical',\n    align: 'right',\n    verticalAlign: 'middle',\n    borderWidth: 0\n  },\n  plotOptions: {\n    candlestick: {\n      color: 'green',\n      upColor: 'red'\n    }\n  },\n  series: [\n    {\n      type: seriesType,\n      turboThreshold: 0,\n      name: subject,\n      data\n    }\n  ]\n})\n\nexport const hightChartMultiple = (subject, yName, year, series) => ({\n  title: {\n    text: `${year} ${subject}`,\n    x: -20 // center\n  },\n  subtitle: {\n    text: '',\n    x: -20\n  },\n  rangeSelector: {\n    selected: 5\n  },\n  yAxis: {\n    title: {\n      text: yName\n    },\n    plotLines: [\n      {\n        value: 0,\n        width: 1,\n        color: '#808080'\n      }\n    ]\n  },\n  xAxis: {\n    type: 'datetime',\n    labels: {\n      format: '{value:%m/%d}',\n      rotation: 45,\n      align: 'left'\n    }\n  },\n  useHTML: true,\n  tooltip: {\n    valueSuffix: '',\n    formatter() {\n      const labels = this.points.reduce(\n        (acc, cur) =>\n          `${acc}<span style=\"color:${cur.color}\">${\n            cur.point.series.name\n          }</span>: <b>${toThousands(cur.y)}</b><br>`,\n        ''\n      )\n      let html = `<span>日期：</span>${this.points[0].point.date}<br>${labels}`\n\n      if (this.points[0].point.is_settle === true) {\n        html += '<span style=\"color: red\">結算日<span>'\n      }\n      return html\n    }\n  },\n  legend: {\n    layout: 'vertical',\n    align: 'right',\n    verticalAlign: 'middle',\n    borderWidth: 0\n  },\n  series\n})\n","export const zoomToAll = chart => {\n  if (!chart || !chart?.series || !chart?.series[0]) {\n    return\n  }\n  const series = chart.series[0]\n  const xAxis = chart.xAxis[0]\n  const newStart = series.xData[0]\n  const newEnd = series.xData[series.xData.length - 1]\n\n  xAxis.setExtremes(newStart, newEnd)\n}\n\nexport const temp = () => {}\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport Api from '../../api/api'\nimport { hightChartCommon } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\n\nfunction WeightedIndex({ year }) {\n  const chartComponent = useRef(null)\n  const [options, setOptions] = useState({})\n\n  useEffect(() => {\n    Api.getWeightIndex(year).then(res => {\n      const stockData = []\n      for (const key in res) {\n        const item = res[key]\n\n        const obj = {}\n        obj.x = Date.parse(key)\n        obj.close = parseInt(item.w_index)\n        obj.open = parseInt(item.open)\n        obj.high = parseInt(item.high)\n        obj.low = parseInt(item.low)\n        obj.date = key\n        obj.is_settle = item.is_settle\n        stockData.push(obj)\n      }\n\n      const chartOptions = hightChartCommon({\n        subject: '加權指數',\n        yName: '價位',\n        year,\n        data: stockData,\n        seriesType: 'candlestick'\n      })\n      setOptions(chartOptions)\n      zoomToAll(chartComponent?.current?.chart)\n    })\n  }, [year])\n\n  return (\n    <HighchartsReact\n      ref={chartComponent}\n      highcharts={Highcharts}\n      constructorType=\"stockChart\"\n      options={options}\n    />\n  )\n}\n\nWeightedIndex.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default WeightedIndex\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction YearSelector({ defaultYear, year, handler }) {\n  const yearRange = Array(5)\n    .fill()\n    .map((item, index) => defaultYear - index)\n\n  const yearOptions = yearRange.map(option => (\n    <option key={option} value={option}>\n      {option}\n    </option>\n  ))\n\n  const handleChange = event => {\n    handler(event.target.value)\n  }\n  return (\n    <div className=\"year-selector\">\n      <label htmlFor=\"year\">Choose a \byear:</label>\n      <select\n        className=\"ml-2 text-orange-700 outline-none\"\n        name=\"year\"\n        value={year}\n        onChange={handleChange}\n      >\n        {yearOptions}\n      </select>\n    </div>\n  )\n}\n\nYearSelector.propTypes = {\n  year: PropTypes.string.isRequired,\n  defaultYear: PropTypes.number.isRequired,\n  handler: PropTypes.func.isRequired\n}\nexport default YearSelector\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\n\nfunction ItemSelector({\n  itemMap,\n  selectedChartTypes,\n  handler,\n  splitItem = ''\n}) {\n  const handleChange = event => {\n    const name = event.target.dataset.value\n    const newTypes = [...selectedChartTypes]\n    const hasSelected = selectedChartTypes.includes(name)\n\n    if (hasSelected) {\n      newTypes.splice(selectedChartTypes.indexOf(name), 1)\n    } else {\n      newTypes.push(name)\n    }\n\n    const sortTypes = itemMap\n      .map(item => item.name)\n      .filter(item => newTypes.includes(item))\n    handler(sortTypes)\n  }\n\n  let splitItemIndex = itemMap.findIndex(item => item.name === splitItem)\n  splitItemIndex = splitItemIndex === -1 ? itemMap.length : splitItemIndex\n\n  const itemGroupOne = itemMap.slice(0, splitItemIndex)\n  const itemGroupTwo = itemMap.slice(splitItemIndex, itemMap.length)\n\n  const itemFactory = (item, index) => {\n    const isActive = selectedChartTypes.includes(item.name)\n    return (\n      <span\n        key={item.name}\n        tabIndex={index}\n        className={clsx(\n          'inline-flex',\n          'items-center',\n          'justify-center',\n          'py-1',\n          'px-2',\n          'border',\n          'cursor-pointer',\n          'mr-1',\n          'mt-1',\n          isActive ? 'border-blue-800' : 'border-blue-600',\n          isActive ? 'text-white' : 'text-blue-600',\n          isActive && 'bg-blue-800'\n        )}\n        data-value={item.name}\n        onClick={handleChange}\n        onKeyDown={handleChange}\n        role=\"button\"\n      >\n        {item.name}\n      </span>\n    )\n  }\n  const groupOneItems = itemGroupOne.map((item, index) =>\n    itemFactory(item, index)\n  )\n\n  const groupTwoItems = itemGroupTwo.map((item, index) =>\n    itemFactory(item, index)\n  )\n\n  return (\n    <div className=\"flex flex-wrap\">\n      <div className=\"mb-4\">{groupOneItems}</div>\n      <div className=\"mb-4\">{groupTwoItems}</div>\n    </div>\n  )\n}\n\nItemSelector.propTypes = {\n  itemMap: PropTypes.arrayOf(\n    PropTypes.shape({\n      targetValue: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n      name: PropTypes.string\n    })\n  ).isRequired,\n  selectedChartTypes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  handler: PropTypes.func.isRequired,\n  splitItem: PropTypes.string\n}\n\nItemSelector.defaultProps = {\n  splitItem: ''\n}\nexport default ItemSelector\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport AnnotationsModule from 'highcharts/modules/annotations'\nimport Api from '../../api/api'\nimport { hightChartCommon } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport { debounce, toThousands } from '../../utils/index'\nimport ItemSelector from '../common/item-selector/ItemSelector'\n\nAnnotationsModule(Highcharts)\nfunction OptionOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '外資 Buy Call 未平倉量',\n      targetValue: 'f_buy_call'\n    },\n    {\n      name: '外資 Buy Call 未平倉金額',\n      targetValue: 'f_buy_call_amount'\n    },\n    {\n      name: '外資 Buy Put 未平倉量',\n      targetValue: 'f_buy_put'\n    },\n    {\n      name: '外資 Buy Put 未平倉金額',\n      targetValue: 'f_buy_put_amount'\n    },\n    {\n      name: '外資 Sell Call 未平倉量',\n      targetValue: 'f_sell_call'\n    },\n    {\n      name: '外資 Sell Call 未平倉金額',\n      targetValue: 'f_sell_call_amount'\n    },\n    {\n      name: '外資 Sell Put 未平倉量',\n      targetValue: 'f_sell_put'\n    },\n    {\n      name: '外資 Sell Put 未平倉金額',\n      targetValue: 'f_sell_put_amount'\n    },\n    {\n      name: '外資多方口數',\n      targetValue: 'f_long'\n    },\n    {\n      name: '外資多方契約金額',\n      targetValue: 'f_long_amount'\n    },\n    {\n      name: '外資空方口數',\n      targetValue: 'f_short'\n    },\n    {\n      name: '外資空方契約金額',\n      targetValue: 'f_short_amount'\n    },\n    {\n      name: '外資多空淨額口數',\n      targetValue: 'f_net'\n    },\n    {\n      name: '外資多空淨額契約金額',\n      targetValue: 'f_net_amount'\n    },\n    {\n      name: '自營 Buy Call 未平倉量',\n      targetValue: 'self_buy_call'\n    },\n    {\n      name: '自營 Buy Call 未平倉金額',\n      targetValue: 'self_buy_call_amount'\n    },\n    {\n      name: '自營 Buy Put 未平倉量',\n      targetValue: 'self_buy_put'\n    },\n    {\n      name: '自營 Buy Put 未平倉金額',\n      targetValue: 'self_buy_put_amount'\n    },\n    {\n      name: '自營 Sell Call 未平倉量',\n      targetValue: 'self_sell_call'\n    },\n    {\n      name: '自營 Sell Call 未平倉金額',\n      targetValue: 'self_sell_call_amount'\n    },\n    {\n      name: '自營 Sell Put 未平倉量',\n      targetValue: 'self_sell_put'\n    },\n    {\n      name: '自營 Sell Put 未平倉金額',\n      targetValue: 'self_sell_put_amount'\n    },\n    {\n      name: '自營多方口數',\n      targetValue: 'self_long'\n    },\n    {\n      name: '自營多方契約金額',\n      targetValue: 'self_long_amount'\n    },\n    {\n      name: '自營空方口數',\n      targetValue: 'self_short'\n    },\n    {\n      name: '自營空方契約金額',\n      targetValue: 'self_short_amount'\n    },\n    {\n      name: '自營多空淨額口數',\n      targetValue: 'self_net'\n    },\n    {\n      name: '自營多空淨額契約金額',\n      targetValue: 'self_net_amount'\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const chartComponents = useRef([])\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  let keepHoverDate = ''\n  function handleHoverDate(date, chartTitle) {\n    const charts = chartComponents.current.filter(\n      chartComponent => chartComponent\n    )\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      chart.removeAnnotation(keepHoverDate)\n    })\n\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      if (chart.options.title.text !== chartTitle) {\n        const value = chart.get(date).y\n        chart.addAnnotation({\n          id: date,\n          labelOptions: {\n            y: 15,\n            verticalAlign: 'bottom',\n            distance: 25\n          },\n          labels: [\n            {\n              point: date,\n              text: `${toThousands(value)}`\n            }\n          ]\n        })\n      }\n    })\n\n    keepHoverDate = date\n  }\n\n  const debounceHandleHoverDate = debounce(handleHoverDate, 100)\n\n  useEffect(() => {\n    Api.getOptionOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return hightChartCommon({\n        subject: name,\n        yName: '值',\n        year,\n        data: stockData,\n        handleHoverDate: debounceHandleHoverDate\n      })\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  return (\n    <div className=\"md:pb-96\">\n      <div className=\"inline-flex items-center justify-center my-4\">\n        <span className=\"text-2xl\">選擇權未平倉</span>\n        <span\n          className=\"px-2 py-1 ml-4 text-red-500 border border-red-500 cursor-pointer\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n        splitItem=\"自營 Buy Call 未平倉量\"\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          ey={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nOptionOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default OptionOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport OptionOpenInterest from '../components/option-open-interest/OptionOpenInterest'\n\nfunction OptionOpenInterestVIew() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"option-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <OptionOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default OptionOpenInterestVIew\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport Api from '../../api/api'\nimport { hightChartMultiple } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport ItemSelector from '../common/item-selector/ItemSelector'\n\nfunction FuturesOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '多方口數',\n      targetValue: ['bull_foreign', 'bull_self']\n    },\n    {\n      name: '多方金額',\n      targetValue: ['bull_foreign_amount', 'bull_self_amount']\n    },\n    {\n      name: '空方口數',\n      targetValue: ['bear_foreign', 'bear_self']\n    },\n    {\n      name: '空方金額',\n      targetValue: ['bear_foreign_amount', 'bear_self_amount']\n    },\n    {\n      name: '多空淨額口數',\n      targetValue: ['diff_foreign', 'diff_self']\n    },\n    {\n      name: '多空淨額金額',\n      targetValue: ['diff_foreign_amount', 'diff_self_amount']\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const chartComponents = useRef([])\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  useEffect(() => {\n    Api.getFuturesOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function seriesDataFactory(targetPropertyCheck, targetValue) {\n      const stockData = []\n      const targetProperty = targetValue.filter(item =>\n        item.includes(targetPropertyCheck)\n      )[0]\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        let yValue = parseInt(item[targetProperty])\n\n        if (targetPropertyCheck === 'total') {\n          yValue =\n            parseInt(item[targetValue[0]]) + parseInt(item[targetValue[1]])\n        }\n        obj.y = yValue\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return stockData\n    }\n\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const seriesTypes = [\n        {\n          name: '外資',\n          targetPropertyCheck: 'foreign',\n          color: '#054099'\n        },\n        {\n          name: '自營',\n          targetPropertyCheck: 'self',\n          color: '#a86206'\n        },\n        {\n          name: '總和',\n          targetPropertyCheck: 'total',\n          color: '#207506'\n        }\n      ]\n\n      const series = seriesTypes.map(seriesType => ({\n        name: seriesType.name,\n        data: seriesDataFactory(seriesType.targetPropertyCheck, targetValue),\n        color: seriesType.color\n      }))\n\n      return hightChartMultiple(name, '值', year, series)\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  return (\n    <div>\n      <div className=\"inline-flex items-center justify-center my-4\">\n        <span className=\"text-2xl\">期貨未平倉</span>\n        <span\n          className=\"px-2 py-1 ml-4 text-red-500 border border-red-500 cursor-pointer\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          key={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nFuturesOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default FuturesOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport FuturesOpenInterest from '../components/futures-open-interest/FuturesOpenInterest'\n\nfunction FuturesOpenInterestView() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"futures-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <FuturesOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default FuturesOpenInterestView\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport AnnotationsModule from 'highcharts/modules/annotations'\nimport Api from '../../api/api'\nimport {\n  hightChartCommon,\n  hightChartMultiple\n} from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport { debounce, toThousands } from '../../utils/index'\nimport ItemSelector from '../common/item-selector/ItemSelector'\n\nAnnotationsModule(Highcharts)\nfunction FuturesBigOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '買方-前五大交易人',\n      targetValue: 'buy_top_five',\n      color: '#c0110b'\n    },\n    {\n      name: '買方-前十大交易人',\n      targetValue: 'buy_top_ten',\n      color: '#e75427'\n    },\n    {\n      name: '賣方-前五大交易人',\n      targetValue: 'sell_top_five',\n      color: '#0f740c'\n    },\n    {\n      name: '賣方-前十大交易人',\n      targetValue: 'sell_top_ten',\n      color: '#19c962'\n    },\n    {\n      name: '市場未平倉',\n      targetValue: 'total',\n      color: '#021f9e'\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const [chartCombineOptions, setChartCombineOptions] = useState([])\n  const chartComponents = useRef([])\n  const chartCombineComponents = useRef({})\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  let keepHoverDate = ''\n  function handleHoverDate(date, chartTitle) {\n    const charts = chartComponents.current.filter(\n      chartComponent => chartComponent\n    )\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      chart.removeAnnotation(keepHoverDate)\n    })\n\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      if (chart.options.title.text !== chartTitle) {\n        const value = chart.get(date).y\n        chart.addAnnotation({\n          id: date,\n          labelOptions: {\n            y: 15,\n            verticalAlign: 'bottom',\n            distance: 25\n          },\n          labels: [\n            {\n              point: date,\n              text: `${toThousands(value)}`\n            }\n          ]\n        })\n      }\n    })\n\n    keepHoverDate = date\n  }\n\n  const debounceHandleHoverDate = debounce(handleHoverDate, 100)\n\n  useEffect(() => {\n    Api.getFuturesBigOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return hightChartCommon({\n        subject: name,\n        yName: '值',\n        year,\n        data: stockData,\n        handleHoverDate: debounceHandleHoverDate\n      })\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  useEffect(() => {\n    function seriesDataFactory(targetValue) {\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return stockData\n    }\n    function chartOptionFactory() {\n      const series = chartTypes.map(seriesType => ({\n        name: seriesType.name,\n        data: seriesDataFactory(seriesType.targetValue),\n        color: seriesType.color\n      }))\n\n      return hightChartMultiple('期貨大額交易人未沖銷部位', '值', year, series)\n    }\n\n    const options = chartOptionFactory()\n\n    setChartCombineOptions(options)\n    setTimeout(() => {\n      zoomToAll(chartCombineComponents?.current?.chart)\n    }, 0)\n  }, [apiData])\n\n  return (\n    <div>\n      <div className=\"inline-flex items-center justify-center my-4\">\n        <span className=\"text-2xl\">期貨大額交易人未沖銷部位</span>\n        <span\n          className=\"px-2 py-1 ml-4 text-red-500 border border-red-500 cursor-pointer\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n      />\n      <HighchartsReact\n        ref={chartCombineComponents}\n        highcharts={Highcharts}\n        constructorType=\"stockChart\"\n        options={chartCombineOptions}\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          key={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nFuturesBigOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default FuturesBigOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport FuturesBigOpenInterest from '../components/futures-big-open-interest/FuturesBigOpenInterest'\n\nfunction FuturesBigOpenInterestView() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"futures-big-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <FuturesBigOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default FuturesBigOpenInterestView\n","import React from 'react'\nimport { NavLink, useRouteMatch } from 'react-router-dom'\nimport clsx from 'clsx'\n\nfunction Navigation() {\n  const pathPrefix = process.env.REACT_APP_PUBLIC_URL\n  const navMap = [\n    {\n      text: '選擇權未平倉',\n      route: 'option-open-interest',\n      isMatch: !!useRouteMatch(`${pathPrefix}/option-open-interest`)\n    },\n    {\n      text: '期貨未平倉',\n      route: 'futures-open-interest',\n      isMatch: !!useRouteMatch(`${pathPrefix}/futures-open-interest`)\n    },\n    {\n      text: '期貨大額交易人未沖銷',\n      route: 'futures-big-open-interest',\n      isMatch: !!useRouteMatch(`${pathPrefix}/futures-big-open-interest`)\n    },\n    {\n      text: '融券(借券賣出)分析',\n      route: 'loan-and-lending-analysis',\n      isMatch: !!useRouteMatch(`${pathPrefix}/loan-and-lending-analysis`)\n    }\n  ]\n\n  return (\n    <div className=\"sticky top-0 z-10 flex items-center justify-start pb-1 mb-5 bg-white border-b border-gray-500\">\n      {navMap.map(item => (\n        <NavLink\n          key={item.text}\n          className={clsx(\n            'px-4 py-2 text-lg  hover:text-orange-700',\n            item.isMatch ? 'text-orange-700' : 'text-coolGray-700'\n          )}\n          to={`${pathPrefix}/${item.route}`}\n        >\n          {item.text}\n        </NavLink>\n      ))}\n    </div>\n  )\n}\nexport default Navigation\n","// Ｘ天連續借券賣出\nexport const getLendingByDay = (resData, { day }) => {\n  const target = resData.filter(item => {\n    let { credit_data: creditData } = item\n    creditData = Object.keys(creditData).map(date => creditData[date])\n    const creditLength = creditData.length\n\n    if (creditLength < day) {\n      return false\n    }\n\n    for (let i = creditLength - 1; i >= creditLength - day; i -= 1) {\n      const byDayData = creditData[i]\n      if (byDayData.bw_sell_on_day === 0) {\n        return false\n      }\n    }\n    return true\n  })\n\n  return target\n}\n\n// X天借券賣出餘額減少\nexport const getLendingBalanceReduceByDay = (resData, { day }) => {\n  const target = resData.filter(item => {\n    let { credit_data: creditData } = item\n    creditData = Object.keys(creditData).map(date => creditData[date])\n    const creditLength = creditData.length\n\n    if (creditLength < day) {\n      return false\n    }\n\n    for (let i = creditLength - 1; i >= creditLength - day; i -= 1) {\n      const byDayData = creditData[i]\n      if (byDayData.bw_return_on_day - byDayData.bw_sell_on_day <= 0) {\n        return false\n      }\n    }\n    return true\n  })\n\n  return target\n}\n\nexport const filterStockFuturesList = stockFuturesList => resData =>\n  resData.filter(\n    item => stockFuturesList.findIndex(stock => stock.code === item.code) !== -1\n  )\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nfunction RuleInput({ ruleName, toggleRule, text, actionType }) {\n  const [checked, setChecked] = useState(false)\n  const [dayInput, setDayInput] = useState('')\n\n  function handleCheck(event) {\n    const { target } = event\n    const value = target.type === 'checkbox' ? target.checked : target.value\n    setChecked(value)\n    toggleRule({ ruleName, isEnable: value, data: { day: dayInput } })\n  }\n\n  function handleDayInput(event) {\n    const { target } = event\n    const { value } = target\n\n    setDayInput(value)\n  }\n\n  useEffect(() => {\n    toggleRule({ ruleName, isEnable: checked, data: { day: dayInput } })\n  }, [dayInput])\n\n  return (\n    <div className=\"inline-flex items-center justify-center mr-4\">\n      <input\n        className=\"mr-1\"\n        name={ruleName}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={handleCheck}\n      />\n      {actionType === 'byDay' ? (\n        <div className=\"inline-block\">\n          <input\n            className=\"w-12 pr-1 text-right text-orange-700 border-b border-gray-800 outline-none\"\n            name=\"dayInput\"\n            type=\"text\"\n            onChange={handleDayInput}\n          />\n          <span>天連續</span>\n        </div>\n      ) : null}\n      <span>{text}</span>\n    </div>\n  )\n}\n\nRuleInput.propTypes = {\n  ruleName: PropTypes.string.isRequired,\n  toggleRule: PropTypes.func.isRequired,\n  text: PropTypes.string.isRequired,\n  actionType: PropTypes.string.isRequired\n}\n\nexport default RuleInput\n","import React, { useState, useEffect } from 'react'\nimport clsx from 'clsx'\nimport {\n  getLendingByDay,\n  getLendingBalanceReduceByDay,\n  filterStockFuturesList\n} from './rules'\nimport RuleInput from './RuleInput'\nimport Api from '../../api/api'\n\nfunction LoanAndLendingAnalysis() {\n  const [stockFuturesList, setStockFuturesList] = useState([])\n  useEffect(() => {\n    Api.getStockFuturesList().then(res => {\n      setStockFuturesList(res)\n    })\n  }, [])\n\n  const rulesMap = [\n    {\n      ruleName: 'LendingByDay',\n      text: '借券賣出',\n      callBack: getLendingByDay,\n      actionType: 'byDay'\n    },\n    {\n      ruleName: 'LendingBalanceReduceByDay',\n      text: '借券賣出餘額減少',\n      callBack: getLendingBalanceReduceByDay,\n      actionType: 'byDay'\n    },\n    {\n      ruleName: 'FilterStockFuturesList',\n      text: '過濾股票期貨',\n      callBack: filterStockFuturesList(stockFuturesList),\n      actionType: 'check'\n    }\n  ]\n\n  const [activeRules, setActiveRules] = useState([])\n  const [apiData, setApiData] = useState({})\n  const [creditData, setCreditData] = useState([])\n  const [result, setResult] = useState([])\n  const [stockInfo, setStockInfo] = useState(null)\n  const [selectedCode, setSelectedCode] = useState('')\n\n  function toggleRule(ruleObj) {\n    const { ruleName, isEnable } = ruleObj\n\n    const newRules = [...activeRules]\n\n    if (isEnable) {\n      const targetRule = rulesMap.find(rule => rule.ruleName === ruleName)\n      const index = activeRules.findIndex(rule => rule.ruleName === ruleName)\n      const hasEnable = index !== -1\n      const newObj = {\n        ...targetRule,\n        ...ruleObj\n      }\n\n      if (hasEnable) {\n        newRules[index] = newObj\n      } else {\n        newRules.push(newObj)\n      }\n    } else {\n      const index = activeRules.findIndex(rule => rule.ruleName === ruleName)\n      newRules.splice(index, 1)\n    }\n\n    setActiveRules(newRules)\n  }\n\n  function getResult() {\n    const res = activeRules.reduce(\n      (acc, cur) => cur.callBack(acc, cur.data),\n      creditData\n    )\n\n    setResult(res)\n    setStockInfo(null)\n    setSelectedCode('')\n  }\n\n  function formatInfoData(value) {\n    return +parseFloat(value / 1000).toFixed(0)\n  }\n\n  useEffect(() => {\n    setStockInfo(apiData[selectedCode])\n  }, [selectedCode])\n\n  useEffect(() => {\n    Api.getLoanAndLending().then(res => {\n      const data = Object.keys(res).map(item => res[item])\n      setApiData(res)\n      setCreditData(data)\n    })\n  }, [])\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex flex-col\">\n        <div>\n          {rulesMap.map(rule => (\n            <RuleInput\n              key={rule.ruleName}\n              ruleName={rule.ruleName}\n              text={rule.text}\n              toggleRule={toggleRule}\n              actionType={rule.actionType}\n            />\n          ))}\n        </div>\n        <span\n          className=\"self-start inline-block w-auto px-2 py-1 mt-5 border rounded cursor-pointer border-warmGray-600\"\n          role=\"button\"\n          tabIndex=\"0\"\n          onClick={getResult}\n          onKeyDown={getResult}\n        >\n          取得結果\n        </span>\n      </div>\n      <div\n        className={clsx(\n          'flex flex-wrap justify-start mt-10 p-5 border border-gray-800 rounded-lg',\n          !result.length && 'hidden'\n        )}\n      >\n        {result.map(item => (\n          <span\n            key={item.code}\n            className={clsx(\n              'inline-block py-1 px-2 border rounded-lg mr-2 mb-1 border-orange-400',\n              selectedCode === item.code\n                ? 'bg-orange-400 text-blueGray-900'\n                : ''\n            )}\n            role=\"button\"\n            tabIndex=\"0\"\n            onClick={() => setSelectedCode(item.code)}\n            onKeyDown={() => setSelectedCode(item.code)}\n          >\n            {item.code} {item.name}\n          </span>\n        ))}\n      </div>\n      <div\n        className={clsx(\n          'flex flex-wrap justify-start  mt-5 rounded-lg',\n          stockInfo ? '' : 'hidden'\n        )}\n      >\n        <table className=\"border border-collapse border-gray-700\">\n          <thead>\n            <tr role=\"row\">\n              <th rowSpan=\"2\" className=\"table-td\">\n                {stockInfo?.code} {stockInfo?.name}\n              </th>\n              <th colSpan=\"6\" className=\"table-th \">\n                融券\n              </th>\n              <th colSpan=\"6\" className=\"table-th\">\n                借券賣出\n              </th>\n            </tr>\n            <tr role=\"row\">\n              <th className=\"table-td\">前日餘額</th>\n              <th className=\"table-td\">賣出</th>\n              <th className=\"table-td\">買進</th>\n              <th className=\"table-td\">現券</th>\n              <th className=\"table-td\">今日餘額</th>\n              <th className=\"table-td\">限額</th>\n              <th className=\"table-td\">前日餘額</th>\n              <th className=\"table-td\">當日賣出</th>\n              <th className=\"table-td\">當日還券</th>\n              <th className=\"table-td\">當日調整</th>\n              <th className=\"table-td\">當日餘額</th>\n              <th className=\"table-td\">次一營業日可限額</th>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.keys(stockInfo?.credit_data || {})\n              .sort((a, b) => new Date(b) - new Date(a))\n              .map(date => {\n                const data = stockInfo.credit_data[date]\n                return (\n                  <tr key={date}>\n                    <td className=\"table-td\">{date}</td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.sl_preDay_balance)}\n                    </td>\n                    <td className=\"table-td\">{formatInfoData(data.sl_sell)}</td>\n                    <td className=\"table-td\">{formatInfoData(data.sl_buy)}</td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.sl_cash_stock)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.sl_day_balance)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.sl_limit)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_preDay_balance)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_sell_on_day)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_return_on_day)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_adjust_on_day)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_day_balance)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_limit_on_next_business_day)}\n                    </td>\n                  </tr>\n                )\n              })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n\nexport default LoanAndLendingAnalysis\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport OptionOpenInterestVIew from './view/OptionOpenInterestVIew'\nimport FuturesOpenInterestView from './view/FuturesOpenInterestView'\nimport FuturesBigOpenInterestView from './view/FuturesBigOpenInterestView'\nimport Navigation from './components/navigation/Navigation'\nimport LoanAndLendingAnalysis from './components/loan-and-lending-analysis/LoanAndLendingAnalysis'\n\nfunction App() {\n  const pathPrefix = process.env.REACT_APP_PUBLIC_URL\n  return (\n    <div className=\"App\">\n      <Router>\n        <Navigation />\n        <div className=\"p-5\">\n          <Switch>\n            <Route path={`${pathPrefix}/option-open-interest`}>\n              <OptionOpenInterestVIew />\n            </Route>\n            <Route path={`${pathPrefix}/futures-open-interest`}>\n              <FuturesOpenInterestView />\n            </Route>\n            <Route path={`${pathPrefix}/futures-big-open-interest`}>\n              <FuturesBigOpenInterestView />\n            </Route>\n            <Route path={`${pathPrefix}/loan-and-lending-analysis`}>\n              <LoanAndLendingAnalysis />\n            </Route>\n            <Route path={`${pathPrefix}/`}>\n              <OptionOpenInterestVIew />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}