{"version":3,"sources":["api/api.js","utils/index.js","utils/hightChartOptionsFactory.js","utils/chart.js","components/weighted-index/WeightedIndex.jsx","components/common/year-selector/YearSelector.jsx","components/common/item-selector/ItemSelector.jsx","components/option-open-interest/OptionOpenInterest.jsx","view/OptionOpenInterestVIew.jsx","components/futures-open-interest/FuturesOpenInterest.jsx","view/FuturesOpenInterestView.jsx","components/futures-big-open-interest/FuturesBigOpenInterest.jsx","view/FuturesBigOpenInterestView.jsx","components/navigation/Navigation.jsx","components/loan-and-lending-analysis/rules.js","components/loan-and-lending-analysis/RuleInput.jsx","components/loan-and-lending-analysis/LoanAndLendingAnalysis.jsx","hooks/useLocalStorage.jsx","components/questions/Questions.jsx","utils/googleAnalytics.js","App.jsx","reportWebVitals.js","index.jsx"],"names":["ApiInstance","axios","create","baseURL","target","get","then","data","debounce","func","timer","timeout","args","clearTimeout","setTimeout","toThousands","num","toString","replace","hightChartCommon","subject","yName","year","seriesType","handleHoverDate","title","text","x","subtitle","yAxis","plotLines","value","width","color","xAxis","type","labels","format","rotation","align","rangeSelector","selected","tooltip","valueSuffix","useHTML","formatter","this","points","point","date","html","y","is_settle","legend","layout","verticalAlign","borderWidth","plotOptions","candlestick","upColor","series","turboThreshold","name","hightChartMultiple","reduce","acc","cur","zoomToAll","chart","newStart","xData","newEnd","length","setExtremes","WeightedIndex","chartComponent","useRef","useState","options","setOptions","useEffect","Api","res","stockData","key","item","obj","Date","parse","close","parseInt","w_index","open","high","low","push","chartOptions","current","ref","highcharts","Highcharts","constructorType","YearSelector","defaultYear","handler","yearOptions","Array","fill","map","index","option","className","htmlFor","onChange","event","ItemSelector","itemMap","selectedChartTypes","splitItem","handleChange","dataset","newTypes","includes","splice","indexOf","sortTypes","filter","splitItemIndex","findIndex","itemGroupOne","slice","itemGroupTwo","itemFactory","isActive","tabIndex","clsx","onClick","onKeyDown","role","groupOneItems","groupTwoItems","defaultProps","AnnotationsModule","OptionOpenInterest","chartTypes","targetValue","setChartOptions","chartComponents","apiData","setApiData","setChartType","clearAll","keepHoverDate","debounceHandleHoverDate","chartTitle","charts","forEach","removeAnnotation","addAnnotation","id","labelOptions","distance","chartOptionFactory","component","element","OptionOpenInterestVIew","getFullYear","String","setYear","FuturesOpenInterest","seriesDataFactory","targetPropertyCheck","targetProperty","yValue","FuturesOpenInterestView","FuturesBigOpenInterest","chartCombineOptions","setChartCombineOptions","chartCombineComponents","FuturesBigOpenInterestView","Navigation","pathPrefix","process","location","useLocation","navMap","route","path","pathname","isRoot","optionOpenNav","to","getLendingByDay","resData","day","creditData","credit_data","creditLength","Object","keys","i","bw_sell_on_day","getLendingBalanceReduceByDay","byDayData","bw_return_on_day","filterStockFuturesList","stockFuturesList","stock","code","RuleInput","ruleName","toggleRule","actionType","checked","setChecked","dayInput","setDayInput","isEnable","LoanAndLendingAnalysis","setStockFuturesList","rulesMap","callBack","activeRules","setActiveRules","setCreditData","result","setResult","stockInfo","setStockInfo","selectedCode","setSelectedCode","ruleObj","newRules","targetRule","find","rule","hasEnable","newObj","getResult","formatInfoData","parseFloat","toFixed","rowSpan","colSpan","sort","a","b","sl_preDay_balance","sl_sell","sl_buy","sl_cash_stock","sl_day_balance","sl_limit","bw_preDay_balance","bw_adjust_on_day","bw_day_balance","bw_limit_on_next_business_day","useLocalStorage","initialValue","window","localStorage","getItem","JSON","error","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","console","log","Questions","href","rel","sendEvent","category","action","label","isNonInteraction","gtag","event_label","event_category","non_interaction","App","history","useHistory","hash","pathName","dateNow","now","firstEnterTime","setFirstEnterTime","enterCount","setEnterCount","newEnterCount","toLocaleString","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.115c1f05.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst ApiInstance = axios.create({\n  baseURL: 'https://storage.googleapis.com/jamie_stock/'\n})\n\nexport default {\n  getWeightIndex(target) {\n    return ApiInstance.get(`weighted_index/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getOptionOpen(target) {\n    return ApiInstance.get(`three_corporate_option_opi/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getFuturesOpen(target) {\n    return ApiInstance.get(`three_corporate_open_interest/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getFuturesBigOpen(target) {\n    return ApiInstance.get(`tx_open_interest/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getLoanAndLending() {\n    return ApiInstance.get(\n      `securities_loan_and_stock_lending/loan-and-lending.json`\n    ).then(({ data }) => data)\n  },\n  getStockFuturesList() {\n    return ApiInstance.get(`stock_futures_list/stock_futures_list.json`).then(\n      ({ data }) => data\n    )\n  }\n}\n","export function debounce(func, timeout = 1000) {\n  let timer\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n      func(...args)\n    }, timeout)\n  }\n}\n\nexport function toThousands(num) {\n  return (num || 0).toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,')\n}\n","import { toThousands } from './index'\n\nexport const hightChartCommon = ({\n  subject,\n  yName,\n  year,\n  data,\n  seriesType = 'line',\n  handleHoverDate = () => {}\n}) => ({\n  title: {\n    text: `${year} ${subject}`,\n    x: -20 // center\n  },\n  subtitle: {\n    text: '',\n    x: -20\n  },\n  yAxis: {\n    title: {\n      text: yName\n    },\n    plotLines: [\n      {\n        value: 0,\n        width: 1,\n        color: '#808080'\n      }\n    ]\n  },\n  xAxis: {\n    type: 'datetime',\n    labels: {\n      format: '{value:%m/%d}',\n      rotation: 45,\n      align: 'left'\n    }\n  },\n  rangeSelector: {\n    selected: 5\n  },\n  tooltip: {\n    valueSuffix: '',\n    useHTML: true,\n    formatter() {\n      handleHoverDate(this.points[0].point.date, `${year} ${subject}`)\n\n      let html =\n        `<span>日期：<span>${this.points[0].point.date}<br>` +\n        `<span>${yName}: <span>${toThousands(this.points[0].point.y)}<br>`\n\n      if (this.points[0].point.is_settle === true) {\n        html += '<span style=\"color: red\">結算日<span>'\n      }\n      return html\n    }\n  },\n  legend: {\n    layout: 'vertical',\n    align: 'right',\n    verticalAlign: 'middle',\n    borderWidth: 0\n  },\n  plotOptions: {\n    candlestick: {\n      color: 'green',\n      upColor: 'red'\n    }\n  },\n  series: [\n    {\n      type: seriesType,\n      turboThreshold: 0,\n      name: subject,\n      data\n    }\n  ]\n})\n\nexport const hightChartMultiple = (subject, yName, year, series) => ({\n  title: {\n    text: `${year} ${subject}`,\n    x: -20 // center\n  },\n  subtitle: {\n    text: '',\n    x: -20\n  },\n  rangeSelector: {\n    selected: 5\n  },\n  yAxis: {\n    title: {\n      text: yName\n    },\n    plotLines: [\n      {\n        value: 0,\n        width: 1,\n        color: '#808080'\n      }\n    ]\n  },\n  xAxis: {\n    type: 'datetime',\n    labels: {\n      format: '{value:%m/%d}',\n      rotation: 45,\n      align: 'left'\n    }\n  },\n  useHTML: true,\n  tooltip: {\n    valueSuffix: '',\n    formatter() {\n      const labels = this.points.reduce(\n        (acc, cur) =>\n          `${acc}<span style=\"color:${cur.color}\">${\n            cur.point.series.name\n          }</span>: <b>${toThousands(cur.y)}</b><br>`,\n        ''\n      )\n      let html = `<span>日期：</span>${this.points[0].point.date}<br>${labels}`\n\n      if (this.points[0].point.is_settle === true) {\n        html += '<span style=\"color: red\">結算日<span>'\n      }\n      return html\n    }\n  },\n  legend: {\n    layout: 'vertical',\n    align: 'right',\n    verticalAlign: 'middle',\n    borderWidth: 0\n  },\n  series\n})\n","export const zoomToAll = chart => {\n  if (!chart || !chart?.series || !chart?.series[0]) {\n    return\n  }\n  const series = chart.series[0]\n  const xAxis = chart.xAxis[0]\n  const newStart = series.xData[0]\n  const newEnd = series.xData[series.xData.length - 1]\n\n  xAxis.setExtremes(newStart, newEnd)\n}\n\nexport const temp = () => {}\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport Api from '../../api/api'\nimport { hightChartCommon } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\n\nfunction WeightedIndex({ year }) {\n  const chartComponent = useRef(null)\n  const [options, setOptions] = useState({})\n\n  useEffect(() => {\n    Api.getWeightIndex(year).then(res => {\n      const stockData = []\n      for (const key in res) {\n        const item = res[key]\n\n        const obj = {}\n        obj.x = Date.parse(key)\n        obj.close = parseInt(item.w_index)\n        obj.open = parseInt(item.open)\n        obj.high = parseInt(item.high)\n        obj.low = parseInt(item.low)\n        obj.date = key\n        obj.is_settle = item.is_settle\n        stockData.push(obj)\n      }\n\n      const chartOptions = hightChartCommon({\n        subject: '加權指數',\n        yName: '價位',\n        year,\n        data: stockData,\n        seriesType: 'candlestick'\n      })\n      setOptions(chartOptions)\n      zoomToAll(chartComponent?.current?.chart)\n    })\n  }, [year])\n\n  return (\n    <HighchartsReact\n      ref={chartComponent}\n      highcharts={Highcharts}\n      constructorType=\"stockChart\"\n      options={options}\n    />\n  )\n}\n\nWeightedIndex.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default WeightedIndex\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction YearSelector({ defaultYear, year, handler }) {\n  const yearRange = Array(5)\n    .fill()\n    .map((item, index) => defaultYear - index)\n\n  const yearOptions = yearRange.map(option => (\n    <option key={option} value={option}>\n      {option}\n    </option>\n  ))\n\n  const handleChange = event => {\n    handler(event.target.value)\n  }\n  return (\n    <div className=\"year-selector\">\n      <label htmlFor=\"year\">Choose a \byear:</label>\n      <select\n        className=\"ml-2 text-orange-700 outline-none\"\n        name=\"year\"\n        value={year}\n        onChange={handleChange}\n      >\n        {yearOptions}\n      </select>\n    </div>\n  )\n}\n\nYearSelector.propTypes = {\n  year: PropTypes.string.isRequired,\n  defaultYear: PropTypes.number.isRequired,\n  handler: PropTypes.func.isRequired\n}\nexport default YearSelector\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\n\nfunction ItemSelector({\n  itemMap,\n  selectedChartTypes,\n  handler,\n  splitItem = ''\n}) {\n  const handleChange = event => {\n    const name = event.target.dataset.value\n    const newTypes = [...selectedChartTypes]\n    const hasSelected = selectedChartTypes.includes(name)\n\n    if (hasSelected) {\n      newTypes.splice(selectedChartTypes.indexOf(name), 1)\n    } else {\n      newTypes.push(name)\n    }\n\n    const sortTypes = itemMap\n      .map(item => item.name)\n      .filter(item => newTypes.includes(item))\n    handler(sortTypes)\n  }\n\n  let splitItemIndex = itemMap.findIndex(item => item.name === splitItem)\n  splitItemIndex = splitItemIndex === -1 ? itemMap.length : splitItemIndex\n\n  const itemGroupOne = itemMap.slice(0, splitItemIndex)\n  const itemGroupTwo = itemMap.slice(splitItemIndex, itemMap.length)\n\n  const itemFactory = (item, index) => {\n    const isActive = selectedChartTypes.includes(item.name)\n    return (\n      <span\n        key={item.name}\n        tabIndex={index}\n        className={clsx(\n          'inline-flex',\n          'items-center',\n          'justify-center',\n          'py-1',\n          'px-2',\n          'border',\n          'cursor-pointer',\n          'mr-1',\n          'mt-1',\n          isActive ? 'border-blue-800' : 'border-blue-600',\n          isActive ? 'text-white' : 'text-blue-600',\n          isActive && 'bg-blue-800'\n        )}\n        data-value={item.name}\n        onClick={handleChange}\n        onKeyDown={handleChange}\n        role=\"button\"\n      >\n        {item.name}\n      </span>\n    )\n  }\n  const groupOneItems = itemGroupOne.map((item, index) =>\n    itemFactory(item, index)\n  )\n\n  const groupTwoItems = itemGroupTwo.map((item, index) =>\n    itemFactory(item, index)\n  )\n\n  return (\n    <div className=\"flex flex-wrap\">\n      <div className=\"mb-4\">{groupOneItems}</div>\n      <div className=\"mb-4\">{groupTwoItems}</div>\n    </div>\n  )\n}\n\nItemSelector.propTypes = {\n  itemMap: PropTypes.arrayOf(\n    PropTypes.shape({\n      targetValue: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n      name: PropTypes.string\n    })\n  ).isRequired,\n  selectedChartTypes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  handler: PropTypes.func.isRequired,\n  splitItem: PropTypes.string\n}\n\nItemSelector.defaultProps = {\n  splitItem: ''\n}\nexport default ItemSelector\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport AnnotationsModule from 'highcharts/modules/annotations'\nimport Api from '../../api/api'\nimport { hightChartCommon } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport { debounce, toThousands } from '../../utils/index'\nimport ItemSelector from '../common/item-selector/ItemSelector'\n\nAnnotationsModule(Highcharts)\nfunction OptionOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '外資 Buy Call 未平倉量',\n      targetValue: 'f_buy_call'\n    },\n    {\n      name: '外資 Buy Call 未平倉金額',\n      targetValue: 'f_buy_call_amount'\n    },\n    {\n      name: '外資 Buy Put 未平倉量',\n      targetValue: 'f_buy_put'\n    },\n    {\n      name: '外資 Buy Put 未平倉金額',\n      targetValue: 'f_buy_put_amount'\n    },\n    {\n      name: '外資 Sell Call 未平倉量',\n      targetValue: 'f_sell_call'\n    },\n    {\n      name: '外資 Sell Call 未平倉金額',\n      targetValue: 'f_sell_call_amount'\n    },\n    {\n      name: '外資 Sell Put 未平倉量',\n      targetValue: 'f_sell_put'\n    },\n    {\n      name: '外資 Sell Put 未平倉金額',\n      targetValue: 'f_sell_put_amount'\n    },\n    {\n      name: '外資多方口數',\n      targetValue: 'f_long'\n    },\n    {\n      name: '外資多方契約金額',\n      targetValue: 'f_long_amount'\n    },\n    {\n      name: '外資空方口數',\n      targetValue: 'f_short'\n    },\n    {\n      name: '外資空方契約金額',\n      targetValue: 'f_short_amount'\n    },\n    {\n      name: '外資多空淨額口數',\n      targetValue: 'f_net'\n    },\n    {\n      name: '外資多空淨額契約金額',\n      targetValue: 'f_net_amount'\n    },\n    {\n      name: '自營 Buy Call 未平倉量',\n      targetValue: 'self_buy_call'\n    },\n    {\n      name: '自營 Buy Call 未平倉金額',\n      targetValue: 'self_buy_call_amount'\n    },\n    {\n      name: '自營 Buy Put 未平倉量',\n      targetValue: 'self_buy_put'\n    },\n    {\n      name: '自營 Buy Put 未平倉金額',\n      targetValue: 'self_buy_put_amount'\n    },\n    {\n      name: '自營 Sell Call 未平倉量',\n      targetValue: 'self_sell_call'\n    },\n    {\n      name: '自營 Sell Call 未平倉金額',\n      targetValue: 'self_sell_call_amount'\n    },\n    {\n      name: '自營 Sell Put 未平倉量',\n      targetValue: 'self_sell_put'\n    },\n    {\n      name: '自營 Sell Put 未平倉金額',\n      targetValue: 'self_sell_put_amount'\n    },\n    {\n      name: '自營多方口數',\n      targetValue: 'self_long'\n    },\n    {\n      name: '自營多方契約金額',\n      targetValue: 'self_long_amount'\n    },\n    {\n      name: '自營空方口數',\n      targetValue: 'self_short'\n    },\n    {\n      name: '自營空方契約金額',\n      targetValue: 'self_short_amount'\n    },\n    {\n      name: '自營多空淨額口數',\n      targetValue: 'self_net'\n    },\n    {\n      name: '自營多空淨額契約金額',\n      targetValue: 'self_net_amount'\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const chartComponents = useRef([])\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  let keepHoverDate = ''\n  function handleHoverDate(date, chartTitle) {\n    const charts = chartComponents.current.filter(\n      chartComponent => chartComponent\n    )\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      chart.removeAnnotation(keepHoverDate)\n    })\n\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      if (chart.options.title.text !== chartTitle) {\n        const value = chart.get(date).y\n        chart.addAnnotation({\n          id: date,\n          labelOptions: {\n            y: 15,\n            verticalAlign: 'bottom',\n            distance: 25\n          },\n          labels: [\n            {\n              point: date,\n              text: `${toThousands(value)}`\n            }\n          ]\n        })\n      }\n    })\n\n    keepHoverDate = date\n  }\n\n  const debounceHandleHoverDate = debounce(handleHoverDate, 100)\n\n  useEffect(() => {\n    Api.getOptionOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return hightChartCommon({\n        subject: name,\n        yName: '值',\n        year,\n        data: stockData,\n        handleHoverDate: debounceHandleHoverDate\n      })\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  return (\n    <div className=\"md:pb-96\">\n      <div className=\"inline-flex items-center justify-center my-4\">\n        <span className=\"text-2xl\">選擇權未平倉</span>\n        <span\n          className=\"px-2 py-1 ml-4 text-red-500 border border-red-500 cursor-pointer\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n        splitItem=\"自營 Buy Call 未平倉量\"\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          key={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nOptionOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default OptionOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport OptionOpenInterest from '../components/option-open-interest/OptionOpenInterest'\n\nfunction OptionOpenInterestVIew() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"option-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <OptionOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default OptionOpenInterestVIew\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport Api from '../../api/api'\nimport { hightChartMultiple } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport ItemSelector from '../common/item-selector/ItemSelector'\n\nfunction FuturesOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '多方口數',\n      targetValue: ['bull_foreign', 'bull_self']\n    },\n    {\n      name: '多方金額',\n      targetValue: ['bull_foreign_amount', 'bull_self_amount']\n    },\n    {\n      name: '空方口數',\n      targetValue: ['bear_foreign', 'bear_self']\n    },\n    {\n      name: '空方金額',\n      targetValue: ['bear_foreign_amount', 'bear_self_amount']\n    },\n    {\n      name: '多空淨額口數',\n      targetValue: ['diff_foreign', 'diff_self']\n    },\n    {\n      name: '多空淨額金額',\n      targetValue: ['diff_foreign_amount', 'diff_self_amount']\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const chartComponents = useRef([])\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  useEffect(() => {\n    Api.getFuturesOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function seriesDataFactory(targetPropertyCheck, targetValue) {\n      const stockData = []\n      const targetProperty = targetValue.filter(item =>\n        item.includes(targetPropertyCheck)\n      )[0]\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        let yValue = parseInt(item[targetProperty])\n\n        if (targetPropertyCheck === 'total') {\n          yValue =\n            parseInt(item[targetValue[0]]) + parseInt(item[targetValue[1]])\n        }\n        obj.y = yValue\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return stockData\n    }\n\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const seriesTypes = [\n        {\n          name: '外資',\n          targetPropertyCheck: 'foreign',\n          color: '#054099'\n        },\n        {\n          name: '自營',\n          targetPropertyCheck: 'self',\n          color: '#a86206'\n        },\n        {\n          name: '總和',\n          targetPropertyCheck: 'total',\n          color: '#207506'\n        }\n      ]\n\n      const series = seriesTypes.map(seriesType => ({\n        name: seriesType.name,\n        data: seriesDataFactory(seriesType.targetPropertyCheck, targetValue),\n        color: seriesType.color\n      }))\n\n      return hightChartMultiple(name, '值', year, series)\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  return (\n    <div>\n      <div className=\"inline-flex items-center justify-center my-4\">\n        <span className=\"text-2xl\">期貨未平倉</span>\n        <span\n          className=\"px-2 py-1 ml-4 text-red-500 border border-red-500 cursor-pointer\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          key={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nFuturesOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default FuturesOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport FuturesOpenInterest from '../components/futures-open-interest/FuturesOpenInterest'\n\nfunction FuturesOpenInterestView() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"futures-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <FuturesOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default FuturesOpenInterestView\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport AnnotationsModule from 'highcharts/modules/annotations'\nimport Api from '../../api/api'\nimport {\n  hightChartCommon,\n  hightChartMultiple\n} from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport { debounce, toThousands } from '../../utils/index'\nimport ItemSelector from '../common/item-selector/ItemSelector'\n\nAnnotationsModule(Highcharts)\nfunction FuturesBigOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '買方-前五大交易人',\n      targetValue: 'buy_top_five',\n      color: '#c0110b'\n    },\n    {\n      name: '買方-前十大交易人',\n      targetValue: 'buy_top_ten',\n      color: '#e75427'\n    },\n    {\n      name: '賣方-前五大交易人',\n      targetValue: 'sell_top_five',\n      color: '#0f740c'\n    },\n    {\n      name: '賣方-前十大交易人',\n      targetValue: 'sell_top_ten',\n      color: '#19c962'\n    },\n    {\n      name: '市場未平倉',\n      targetValue: 'total',\n      color: '#021f9e'\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const [chartCombineOptions, setChartCombineOptions] = useState([])\n  const chartComponents = useRef([])\n  const chartCombineComponents = useRef({})\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  let keepHoverDate = ''\n  function handleHoverDate(date, chartTitle) {\n    const charts = chartComponents.current.filter(\n      chartComponent => chartComponent\n    )\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      chart.removeAnnotation(keepHoverDate)\n    })\n\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      if (chart.options.title.text !== chartTitle) {\n        const value = chart.get(date).y\n        chart.addAnnotation({\n          id: date,\n          labelOptions: {\n            y: 15,\n            verticalAlign: 'bottom',\n            distance: 25\n          },\n          labels: [\n            {\n              point: date,\n              text: `${toThousands(value)}`\n            }\n          ]\n        })\n      }\n    })\n\n    keepHoverDate = date\n  }\n\n  const debounceHandleHoverDate = debounce(handleHoverDate, 100)\n\n  useEffect(() => {\n    Api.getFuturesBigOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return hightChartCommon({\n        subject: name,\n        yName: '值',\n        year,\n        data: stockData,\n        handleHoverDate: debounceHandleHoverDate\n      })\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  useEffect(() => {\n    function seriesDataFactory(targetValue) {\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return stockData\n    }\n    function chartOptionFactory() {\n      const series = chartTypes.map(seriesType => ({\n        name: seriesType.name,\n        data: seriesDataFactory(seriesType.targetValue),\n        color: seriesType.color\n      }))\n\n      return hightChartMultiple('期貨大額交易人未沖銷部位', '值', year, series)\n    }\n\n    const options = chartOptionFactory()\n\n    setChartCombineOptions(options)\n    setTimeout(() => {\n      zoomToAll(chartCombineComponents?.current?.chart)\n    }, 0)\n  }, [apiData])\n\n  return (\n    <div>\n      <div className=\"inline-flex items-center justify-center my-4\">\n        <span className=\"text-2xl\">期貨大額交易人未沖銷部位</span>\n        <span\n          className=\"px-2 py-1 ml-4 text-red-500 border border-red-500 cursor-pointer\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n      />\n      <HighchartsReact\n        ref={chartCombineComponents}\n        highcharts={Highcharts}\n        constructorType=\"stockChart\"\n        options={chartCombineOptions}\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          key={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nFuturesBigOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default FuturesBigOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport FuturesBigOpenInterest from '../components/futures-big-open-interest/FuturesBigOpenInterest'\n\nfunction FuturesBigOpenInterestView() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"futures-big-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <FuturesBigOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default FuturesBigOpenInterestView\n","import React from 'react'\nimport { NavLink, useLocation } from 'react-router-dom'\nimport clsx from 'clsx'\n\nfunction Navigation() {\n  const pathPrefix = process.env.REACT_APP_PUBLIC_URL\n  const location = useLocation()\n\n  const navMap = [\n    {\n      text: '選擇權未平倉',\n      route: `${pathPrefix}/option-open-interest`\n    },\n    {\n      text: '期貨未平倉',\n      route: `${pathPrefix}/futures-open-interest`\n    },\n    {\n      text: '期貨大額交易人未沖銷',\n      route: `${pathPrefix}/futures-big-open-interest`\n    },\n    {\n      text: '融券(借券賣出)分析',\n      route: `${pathPrefix}/loan-and-lending-analysis`\n    },\n    {\n      text: '建議與問題',\n      route: `${pathPrefix}/your-questions`\n    }\n  ]\n\n  return (\n    <div className=\"sticky top-0 z-10 flex items-center justify-start pb-1 mb-5 bg-white border-b border-gray-500\">\n      {navMap.map(item => {\n        const { route } = item\n        const path = location.pathname\n        const isRoot = path === `${pathPrefix}/`\n        const optionOpenNav = `${pathPrefix}/option-open-interest`\n        return (\n          <NavLink\n            key={item.text}\n            className={clsx(\n              'px-4 py-2 text-lg  hover:text-orange-700',\n              path === route || (isRoot && route === optionOpenNav)\n                ? 'text-orange-700'\n                : 'text-coolGray-700'\n            )}\n            to={`${item.route}`}\n          >\n            {item.text}\n          </NavLink>\n        )\n      })}\n    </div>\n  )\n}\nexport default Navigation\n","// Ｘ天連續借券賣出\nexport const getLendingByDay = (resData, { day }) => {\n  const target = resData.filter(item => {\n    let { credit_data: creditData } = item\n    creditData = Object.keys(creditData).map(date => creditData[date])\n    const creditLength = creditData.length\n\n    if (creditLength < day) {\n      return false\n    }\n\n    for (let i = creditLength - 1; i >= creditLength - day; i -= 1) {\n      const byDayData = creditData[i]\n      if (byDayData.bw_sell_on_day === 0) {\n        return false\n      }\n    }\n    return true\n  })\n\n  return target\n}\n\n// X天借券賣出餘額減少\nexport const getLendingBalanceReduceByDay = (resData, { day }) => {\n  const target = resData.filter(item => {\n    let { credit_data: creditData } = item\n    creditData = Object.keys(creditData).map(date => creditData[date])\n    const creditLength = creditData.length\n\n    if (creditLength < day) {\n      return false\n    }\n\n    for (let i = creditLength - 1; i >= creditLength - day; i -= 1) {\n      const byDayData = creditData[i]\n      if (byDayData.bw_return_on_day - byDayData.bw_sell_on_day <= 0) {\n        return false\n      }\n    }\n    return true\n  })\n\n  return target\n}\n\nexport const filterStockFuturesList = stockFuturesList => resData =>\n  resData.filter(\n    item => stockFuturesList.findIndex(stock => stock.code === item.code) !== -1\n  )\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nfunction RuleInput({ ruleName, toggleRule, text, actionType }) {\n  const [checked, setChecked] = useState(false)\n  const [dayInput, setDayInput] = useState('')\n\n  function handleCheck(event) {\n    const { target } = event\n    const value = target.type === 'checkbox' ? target.checked : target.value\n    setChecked(value)\n    toggleRule({ ruleName, isEnable: value, data: { day: dayInput } })\n  }\n\n  function handleDayInput(event) {\n    const { target } = event\n    const { value } = target\n\n    setDayInput(value)\n  }\n\n  useEffect(() => {\n    toggleRule({ ruleName, isEnable: checked, data: { day: dayInput } })\n  }, [dayInput])\n\n  return (\n    <div className=\"inline-flex items-center justify-center mr-4\">\n      <input\n        className=\"mr-1\"\n        name={ruleName}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={handleCheck}\n      />\n      {actionType === 'byDay' ? (\n        <div className=\"inline-block\">\n          <input\n            className=\"w-12 pr-1 text-right text-orange-700 border-b border-gray-800 outline-none\"\n            name=\"dayInput\"\n            type=\"text\"\n            onChange={handleDayInput}\n          />\n          <span>天連續</span>\n        </div>\n      ) : null}\n      <span>{text}</span>\n    </div>\n  )\n}\n\nRuleInput.propTypes = {\n  ruleName: PropTypes.string.isRequired,\n  toggleRule: PropTypes.func.isRequired,\n  text: PropTypes.string.isRequired,\n  actionType: PropTypes.string.isRequired\n}\n\nexport default RuleInput\n","import React, { useState, useEffect } from 'react'\nimport clsx from 'clsx'\nimport {\n  getLendingByDay,\n  getLendingBalanceReduceByDay,\n  filterStockFuturesList\n} from './rules'\nimport RuleInput from './RuleInput'\nimport Api from '../../api/api'\n\nfunction LoanAndLendingAnalysis() {\n  const [stockFuturesList, setStockFuturesList] = useState([])\n  useEffect(() => {\n    Api.getStockFuturesList().then(res => {\n      setStockFuturesList(res)\n    })\n  }, [])\n\n  const rulesMap = [\n    {\n      ruleName: 'LendingByDay',\n      text: '借券賣出',\n      callBack: getLendingByDay,\n      actionType: 'byDay'\n    },\n    {\n      ruleName: 'LendingBalanceReduceByDay',\n      text: '借券賣出餘額減少',\n      callBack: getLendingBalanceReduceByDay,\n      actionType: 'byDay'\n    },\n    {\n      ruleName: 'FilterStockFuturesList',\n      text: '過濾股票期貨',\n      callBack: filterStockFuturesList(stockFuturesList),\n      actionType: 'check'\n    }\n  ]\n\n  const [activeRules, setActiveRules] = useState([])\n  const [apiData, setApiData] = useState({})\n  const [creditData, setCreditData] = useState([])\n  const [result, setResult] = useState([])\n  const [stockInfo, setStockInfo] = useState(null)\n  const [selectedCode, setSelectedCode] = useState('')\n\n  function toggleRule(ruleObj) {\n    const { ruleName, isEnable } = ruleObj\n\n    const newRules = [...activeRules]\n\n    if (isEnable) {\n      const targetRule = rulesMap.find(rule => rule.ruleName === ruleName)\n      const index = activeRules.findIndex(rule => rule.ruleName === ruleName)\n      const hasEnable = index !== -1\n      const newObj = {\n        ...targetRule,\n        ...ruleObj\n      }\n\n      if (hasEnable) {\n        newRules[index] = newObj\n      } else {\n        newRules.push(newObj)\n      }\n    } else {\n      const index = activeRules.findIndex(rule => rule.ruleName === ruleName)\n      newRules.splice(index, 1)\n    }\n\n    setActiveRules(newRules)\n  }\n\n  function getResult() {\n    const res = activeRules.reduce(\n      (acc, cur) => cur.callBack(acc, cur.data),\n      creditData\n    )\n\n    setResult(res)\n    setStockInfo(null)\n    setSelectedCode('')\n  }\n\n  function formatInfoData(value) {\n    return +parseFloat(value / 1000).toFixed(0)\n  }\n\n  useEffect(() => {\n    setStockInfo(apiData[selectedCode])\n  }, [selectedCode])\n\n  useEffect(() => {\n    Api.getLoanAndLending().then(res => {\n      const data = Object.keys(res).map(item => res[item])\n      setApiData(res)\n      setCreditData(data)\n    })\n  }, [])\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex flex-col\">\n        <div>\n          {rulesMap.map(rule => (\n            <RuleInput\n              key={rule.ruleName}\n              ruleName={rule.ruleName}\n              text={rule.text}\n              toggleRule={toggleRule}\n              actionType={rule.actionType}\n            />\n          ))}\n        </div>\n        <span\n          className=\"self-start inline-block w-auto px-2 py-1 mt-5 border rounded cursor-pointer border-warmGray-600\"\n          role=\"button\"\n          tabIndex=\"0\"\n          onClick={getResult}\n          onKeyDown={getResult}\n        >\n          取得結果\n        </span>\n      </div>\n      <div\n        className={clsx(\n          'flex flex-wrap justify-start mt-10 p-5 border border-gray-800 rounded-lg',\n          !result.length && 'hidden'\n        )}\n      >\n        {result.map(item => (\n          <span\n            key={item.code}\n            className={clsx(\n              'inline-block py-1 px-2 border rounded-lg mr-2 mb-1 border-orange-400',\n              selectedCode === item.code\n                ? 'bg-orange-400 text-blueGray-900'\n                : ''\n            )}\n            role=\"button\"\n            tabIndex=\"0\"\n            onClick={() => setSelectedCode(item.code)}\n            onKeyDown={() => setSelectedCode(item.code)}\n          >\n            {item.code} {item.name}\n          </span>\n        ))}\n      </div>\n      <div\n        className={clsx(\n          'flex flex-wrap justify-start  mt-5 rounded-lg',\n          stockInfo ? '' : 'hidden'\n        )}\n      >\n        <table className=\"border border-collapse border-gray-700\">\n          <thead>\n            <tr role=\"row\">\n              <th rowSpan=\"2\" className=\"table-td\">\n                {stockInfo?.code} {stockInfo?.name}\n              </th>\n              <th colSpan=\"6\" className=\"table-th \">\n                融券\n              </th>\n              <th colSpan=\"6\" className=\"table-th\">\n                借券賣出\n              </th>\n            </tr>\n            <tr role=\"row\">\n              <th className=\"table-td\">前日餘額</th>\n              <th className=\"table-td\">賣出</th>\n              <th className=\"table-td\">買進</th>\n              <th className=\"table-td\">現券</th>\n              <th className=\"table-td\">今日餘額</th>\n              <th className=\"table-td\">限額</th>\n              <th className=\"table-td\">前日餘額</th>\n              <th className=\"table-td\">當日賣出</th>\n              <th className=\"table-td\">當日還券</th>\n              <th className=\"table-td\">當日調整</th>\n              <th className=\"table-td\">當日餘額</th>\n              <th className=\"table-td\">次一營業日可限額</th>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.keys(stockInfo?.credit_data || {})\n              .sort((a, b) => new Date(b) - new Date(a))\n              .map(date => {\n                const data = stockInfo.credit_data[date]\n                return (\n                  <tr key={date}>\n                    <td className=\"table-td\">{date}</td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.sl_preDay_balance)}\n                    </td>\n                    <td className=\"table-td\">{formatInfoData(data.sl_sell)}</td>\n                    <td className=\"table-td\">{formatInfoData(data.sl_buy)}</td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.sl_cash_stock)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.sl_day_balance)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.sl_limit)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_preDay_balance)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_sell_on_day)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_return_on_day)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_adjust_on_day)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_day_balance)}\n                    </td>\n                    <td className=\"table-td\">\n                      {formatInfoData(data.bw_limit_on_next_business_day)}\n                    </td>\n                  </tr>\n                )\n              })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n\nexport default LoanAndLendingAnalysis\n","import { useState } from 'react'\n\nfunction useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key)\n\n      return item ? JSON.parse(item) : initialValue\n    } catch (error) {\n      return initialValue\n    }\n  })\n\n  const setValue = value => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value\n\n      setStoredValue(valueToStore)\n\n      window.localStorage.setItem(key, JSON.stringify(valueToStore))\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  return [storedValue, setValue]\n}\n\nexport default useLocalStorage\n","import React from 'react'\n\nfunction Questions() {\n  return (\n    <div>\n      <div className=\"mb-2\">\n        <span className=\"mr-2 text-lg text-orange-600\">為什麼做這網站</span>\n        <p className=\"max-w-3xl\">\n          起因為個人偏愛籌碼分析，且操作標的主要為台指期或股票期貨，但目前各大網站訊息都很分散或是缺漏，因此興起客製化自己選股和判斷股市的工具。\n          <br />\n          最後集結整理這些工具分享給跟我有一樣需求的同好以及帶我入門的 PTT\n          股票版，感謝各位。\n          <br />\n          如果有任何問題或想法，也歡迎填寫底下google表單。最後小弟只是小小工程師，希望各位大大高抬貴手，不要把我流量打爆～\n        </p>\n      </div>\n      <span className=\"mr-2 text-lg text-orange-600\">資料更新時間</span>\n      <div>融券資料更新時間： 每日晚上 9 點</div>\n      <div>其他資料更新時間： 每日下午 5 點</div>\n      <div className=\"my-4\">\n        <span className=\"mr-2 text-lg text-orange-600\">\n          建議與問題 (google 表單)\n        </span>\n        <a\n          className=\"text-blue-600 hover:text-blue-800\"\n          href=\"https://forms.gle/yNKZkyY1D6EUK5JS6\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          https://forms.gle/yNKZkyY1D6EUK5JS6\n        </a>\n      </div>\n      <div className=\"flex flex-col\">\n        <span className=\"mb-1 text-lg text-orange-600\">資料來源</span>\n        <div>\n          <span className=\"mr-2\">選擇權未平倉:</span>\n          <a\n            className=\"text-blue-600 hover:text-blue-800\"\n            href=\"https://www.taifex.com.tw/cht/3/callsAndPutsDate\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            https://www.taifex.com.tw/cht/3/callsAndPutsDate\n          </a>\n        </div>\n        <div>\n          <span className=\"mr-2\">期貨未平倉:</span>\n          <a\n            className=\"text-blue-600 hover:text-blue-800\"\n            href=\"https://www.taifex.com.tw/cht/3/futContractsDate\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            https://www.taifex.com.tw/cht/3/futContractsDate\n          </a>\n        </div>\n        <div>\n          <span className=\"mr-2\">期貨大額交易人未沖銷:</span>\n          <a\n            className=\"text-blue-600 hover:text-blue-800\"\n            href=\"https://www.taifex.com.tw/cht/3/largeTraderFutQry\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            https://www.taifex.com.tw/cht/3/largeTraderFutQry\n          </a>\n        </div>\n        <div>\n          <span className=\"mr-2\">融券(借券賣出):</span>\n          <a\n            className=\"text-blue-600 hover:text-blue-800\"\n            href=\"http://www.twse.com.tw/zh/page/trading/exchange/TWT93U.html\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            http://www.twse.com.tw/zh/page/trading/exchange/TWT93U.html\n          </a>\n        </div>\n        <div>\n          <span className=\"mr-2\">大盤加權指數:</span>\n          <a\n            className=\"text-blue-600 hover:text-blue-800\"\n            href=\"https://www.twse.com.tw/zh/page/trading/indices/MI_5MINS_HIST.html\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            https://www.twse.com.tw/zh/page/trading/indices/MI_5MINS_HIST.html\n          </a>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Questions\n","/* eslint-disable no-undef */\n\nexport function sendEvent({\n  category,\n  action,\n  label,\n  value,\n  isNonInteraction\n}) {\n  window.gtag('event', action, {\n    event_label: label,\n    event_category: category,\n    value,\n    non_interaction: isNonInteraction\n  })\n}\n\nexport default { sendEvent }\n","import React, { useEffect } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useHistory\n} from 'react-router-dom'\nimport OptionOpenInterestVIew from './view/OptionOpenInterestVIew'\nimport FuturesOpenInterestView from './view/FuturesOpenInterestView'\nimport FuturesBigOpenInterestView from './view/FuturesBigOpenInterestView'\nimport Navigation from './components/navigation/Navigation'\nimport LoanAndLendingAnalysis from './components/loan-and-lending-analysis/LoanAndLendingAnalysis'\nimport useLocalStorage from './hooks/useLocalStorage'\nimport Questions from './components/questions/Questions'\n\nimport { sendEvent } from './utils/googleAnalytics'\n\nfunction App() {\n  const history = useHistory()\n  const pathPrefix = process.env.REACT_APP_PUBLIC_URL\n\n  if (window.location.hash && process.env.REACT_APP_IS_GH_PAGE === 'true') {\n    const path = window.location.hash.replace('#/', '')\n    const pathName = window.location.pathname\n    history.push(`${pathName}${path}`)\n  }\n\n  const dateNow = Date.now()\n  const [firstEnterTime, setFirstEnterTime] = useLocalStorage(\n    'firstEnterTime',\n    dateNow\n  )\n\n  const [enterCount, setEnterCount] = useLocalStorage('enterCount', 0)\n  const newEnterCount = enterCount + 1\n\n  useEffect(() => {\n    if (firstEnterTime === dateNow) {\n      setFirstEnterTime(dateNow)\n      sendEvent({\n        action: '第一次進入時間',\n        label: new Date().toLocaleString(),\n        isNonInteraction: true\n      })\n    }\n\n    setEnterCount(newEnterCount)\n\n    sendEvent({\n      action: '進入次數',\n      label: newEnterCount,\n      value: newEnterCount,\n      isNonInteraction: true\n    })\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Navigation />\n        <div className=\"p-5\">\n          <Switch>\n            <Route path={`${pathPrefix}/option-open-interest`}>\n              <OptionOpenInterestVIew />\n            </Route>\n            <Route path={`${pathPrefix}/futures-open-interest`}>\n              <FuturesOpenInterestView />\n            </Route>\n            <Route path={`${pathPrefix}/futures-big-open-interest`}>\n              <FuturesBigOpenInterestView />\n            </Route>\n            <Route path={`${pathPrefix}/loan-and-lending-analysis`}>\n              <LoanAndLendingAnalysis />\n            </Route>\n            <Route path={`${pathPrefix}/your-questions`}>\n              <Questions />\n            </Route>\n            <Route path={`${pathPrefix}/`}>\n              <OptionOpenInterestVIew />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n\n/* eslint-disable no-console */\nif (process.env.NODE_ENV === 'production') {\n  console.log(\n    '%c (づ′・ω・）づ  %c小弟單純分享工具，請各位大大高抬貴手，不要打爆我流量ＱＱ',\n    'color: #F97316; font-size:20px',\n    'color: #2563EB;font-size:20px'\n  )\n\n  console.log(\n    '%c 有任何問題可以寄信給我，感謝!  Email: childben28@gmail.com',\n    'color: #16A34A; font-size:14px'\n  )\n}\n"],"sourceRoot":""}