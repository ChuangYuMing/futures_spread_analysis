{"version":3,"sources":["api/api.js","utils/index.js","utils/hightChartOptionsFactory.js","utils/chart.js","components/weighted-index/WeightedIndex.jsx","components/common/year-selector/YearSelector.jsx","components/common/item-selector/ItemSelector.jsx","components/option-open-interest/OptionOpenInterest.jsx","view/OptionOpenInterestVIew.jsx","components/futures-open-interest/FuturesOpenInterest.jsx","view/FuturesOpenInterestView.jsx","components/futures-big-open-interest/FuturesBigOpenInterest.jsx","view/FuturesBigOpenInterestView.jsx","components/navigation/Navigation.jsx","components/loan-and-lending-analysis/rules.js","components/loan-and-lending-analysis/RuleInput.jsx","components/loan-and-lending-analysis/LoanAndLendingAnalysis.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["ApiInstance","axios","create","baseURL","target","get","then","data","debounce","func","timer","timeout","args","clearTimeout","setTimeout","toThousands","num","toString","replace","hightChartCommon","subject","yName","year","seriesType","handleHoverDate","title","text","x","subtitle","yAxis","plotLines","value","width","color","xAxis","type","labels","format","rotation","align","rangeSelector","selected","tooltip","valueSuffix","useHTML","formatter","this","points","point","date","html","y","is_settle","legend","layout","verticalAlign","borderWidth","plotOptions","candlestick","upColor","series","turboThreshold","name","hightChartMultiple","reduce","acc","cur","zoomToAll","chart","newStart","xData","newEnd","length","setExtremes","WeightedIndex","chartComponent","useRef","useState","options","setOptions","useEffect","Api","res","stockData","key","item","obj","Date","parse","close","parseInt","w_index","open","high","low","push","chartOptions","current","ref","highcharts","Highcharts","constructorType","YearSelector","defaultYear","handler","yearOptions","Array","fill","map","index","option","className","htmlFor","onChange","event","ItemSelector","itemMap","selectedChartTypes","splitItem","handleChange","dataset","newTypes","includes","splice","indexOf","sortTypes","filter","splitItemIndex","findIndex","itemGroupOne","slice","itemGroupTwo","itemFactory","tabIndex","onClick","onKeyDown","role","groupOneItems","groupTwoItems","defaultProps","AnnotationsModule","OptionOpenInterest","chartTypes","targetValue","setChartOptions","chartComponents","apiData","setApiData","setChartType","clearAll","keepHoverDate","debounceHandleHoverDate","chartTitle","charts","forEach","removeAnnotation","addAnnotation","id","labelOptions","distance","chartOptionFactory","component","element","OptionOpenInterestVIew","getFullYear","String","setYear","FuturesOpenInterest","seriesDataFactory","targetPropertyCheck","targetProperty","yValue","FuturesOpenInterestView","FuturesBigOpenInterest","chartCombineOptions","setChartCombineOptions","chartCombineComponents","FuturesBigOpenInterestView","Navigation","route","activeClassName","to","getLendingByDay","resData","day","creditData","credit_data","creditLength","Object","keys","i","bw_sell_on_day","getLendingBalanceReduceByDay","byDayData","bw_return_on_day","filterStockFuturesList","stockFuturesList","stock","code","RuleInput","ruleName","toggleRule","actionType","checked","setChecked","dayInput","setDayInput","isEnable","LoanAndLendingAnalysis","setStockFuturesList","rulesMap","callBack","activeRules","setActiveRules","setCreditData","result","setResult","stockInfo","setStockInfo","selectedCode","setSelectedCode","ruleObj","newRules","targetRule","find","rule","hasEnable","newObj","getResult","formatInfoData","parseFloat","toFixed","rowSpan","colSpan","sort","a","b","sl_preDay_balance","sl_sell","sl_buy","sl_cash_stock","sl_day_balance","sl_limit","bw_preDay_balance","bw_adjust_on_day","bw_day_balance","bw_limit_on_next_business_day","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf076f36.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst ApiInstance = axios.create({\n  baseURL: 'https://storage.googleapis.com/jamie_stock/'\n})\n\nexport default {\n  getWeightIndex(target) {\n    return ApiInstance.get(`weighted_index/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getOptionOpen(target) {\n    return ApiInstance.get(`three_corporate_option_opi/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getFuturesOpen(target) {\n    return ApiInstance.get(`three_corporate_open_interest/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getFuturesBigOpen(target) {\n    return ApiInstance.get(`tx_open_interest/${target}.json`).then(\n      ({ data }) => data\n    )\n  },\n  getLoanAndLending() {\n    return ApiInstance.get(\n      `securities_loan_and_stock_lending/loan-and-lending.json`\n    ).then(({ data }) => data)\n  },\n  getStockFuturesList() {\n    return ApiInstance.get(`stock_futures_list/stock_futures_list.json`).then(\n      ({ data }) => data\n    )\n  }\n}\n","export function debounce(func, timeout = 1000) {\n  let timer\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => {\n      func(...args)\n    }, timeout)\n  }\n}\n\nexport function toThousands(num) {\n  return (num || 0).toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,')\n}\n","import { toThousands } from './index'\n\nexport const hightChartCommon = ({\n  subject,\n  yName,\n  year,\n  data,\n  seriesType = 'line',\n  handleHoverDate = () => {}\n}) => ({\n  title: {\n    text: `${year} ${subject}`,\n    x: -20 // center\n  },\n  subtitle: {\n    text: '',\n    x: -20\n  },\n  yAxis: {\n    title: {\n      text: yName\n    },\n    plotLines: [\n      {\n        value: 0,\n        width: 1,\n        color: '#808080'\n      }\n    ]\n  },\n  xAxis: {\n    type: 'datetime',\n    labels: {\n      format: '{value:%m/%d}',\n      rotation: 45,\n      align: 'left'\n    }\n  },\n  rangeSelector: {\n    selected: 5\n  },\n  tooltip: {\n    valueSuffix: '',\n    useHTML: true,\n    formatter() {\n      handleHoverDate(this.points[0].point.date, `${year} ${subject}`)\n\n      let html =\n        `<span>日期：<span>${this.points[0].point.date}<br>` +\n        `<span>${yName}: <span>${toThousands(this.points[0].point.y)}<br>`\n\n      if (this.points[0].point.is_settle === true) {\n        html += '<span style=\"color: red\">結算日<span>'\n      }\n      return html\n    }\n  },\n  legend: {\n    layout: 'vertical',\n    align: 'right',\n    verticalAlign: 'middle',\n    borderWidth: 0\n  },\n  plotOptions: {\n    candlestick: {\n      color: 'green',\n      upColor: 'red'\n    }\n  },\n  series: [\n    {\n      type: seriesType,\n      turboThreshold: 0,\n      name: subject,\n      data\n    }\n  ]\n})\n\nexport const hightChartMultiple = (subject, yName, year, series) => ({\n  title: {\n    text: `${year} ${subject}`,\n    x: -20 // center\n  },\n  subtitle: {\n    text: '',\n    x: -20\n  },\n  rangeSelector: {\n    selected: 5\n  },\n  yAxis: {\n    title: {\n      text: yName\n    },\n    plotLines: [\n      {\n        value: 0,\n        width: 1,\n        color: '#808080'\n      }\n    ]\n  },\n  xAxis: {\n    type: 'datetime',\n    labels: {\n      format: '{value:%m/%d}',\n      rotation: 45,\n      align: 'left'\n    }\n  },\n  useHTML: true,\n  tooltip: {\n    valueSuffix: '',\n    formatter() {\n      const labels = this.points.reduce(\n        (acc, cur) =>\n          `${acc}<span style=\"color:${cur.color}\">${\n            cur.point.series.name\n          }</span>: <b>${toThousands(cur.y)}</b><br>`,\n        ''\n      )\n      let html = `<span>日期：</span>${this.points[0].point.date}<br>${labels}`\n\n      if (this.points[0].point.is_settle === true) {\n        html += '<span style=\"color: red\">結算日<span>'\n      }\n      return html\n    }\n  },\n  legend: {\n    layout: 'vertical',\n    align: 'right',\n    verticalAlign: 'middle',\n    borderWidth: 0\n  },\n  series\n})\n","export const zoomToAll = chart => {\n  if (!chart || !chart?.series || !chart?.series[0]) {\n    return\n  }\n  const series = chart.series[0]\n  const xAxis = chart.xAxis[0]\n  const newStart = series.xData[0]\n  const newEnd = series.xData[series.xData.length - 1]\n\n  xAxis.setExtremes(newStart, newEnd)\n}\n\nexport const temp = () => {}\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport Api from '../../api/api'\nimport { hightChartCommon } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\n\nfunction WeightedIndex({ year }) {\n  const chartComponent = useRef(null)\n  const [options, setOptions] = useState({})\n\n  useEffect(() => {\n    Api.getWeightIndex(year).then(res => {\n      const stockData = []\n      for (const key in res) {\n        const item = res[key]\n\n        const obj = {}\n        obj.x = Date.parse(key)\n        obj.close = parseInt(item.w_index)\n        obj.open = parseInt(item.open)\n        obj.high = parseInt(item.high)\n        obj.low = parseInt(item.low)\n        obj.date = key\n        obj.is_settle = item.is_settle\n        stockData.push(obj)\n      }\n\n      const chartOptions = hightChartCommon({\n        subject: '加權指數',\n        yName: '價位',\n        year,\n        data: stockData,\n        seriesType: 'candlestick'\n      })\n      setOptions(chartOptions)\n      zoomToAll(chartComponent?.current?.chart)\n    })\n  }, [year])\n\n  return (\n    <HighchartsReact\n      ref={chartComponent}\n      highcharts={Highcharts}\n      constructorType=\"stockChart\"\n      options={options}\n    />\n  )\n}\n\nWeightedIndex.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default WeightedIndex\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction YearSelector({ defaultYear, year, handler }) {\n  const yearRange = Array(5)\n    .fill()\n    .map((item, index) => defaultYear - index)\n\n  const yearOptions = yearRange.map(option => (\n    <option key={option} value={option}>\n      {option}\n    </option>\n  ))\n\n  const handleChange = event => {\n    handler(event.target.value)\n  }\n  return (\n    <div className=\"year-selector\">\n      <label htmlFor=\"year\">Choose a \byear:</label>\n      <select name=\"year\" value={year} onChange={handleChange}>\n        {yearOptions}\n      </select>\n    </div>\n  )\n}\n\nYearSelector.propTypes = {\n  year: PropTypes.string.isRequired,\n  defaultYear: PropTypes.number.isRequired,\n  handler: PropTypes.func.isRequired\n}\nexport default YearSelector\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport './style.css'\n\nfunction ItemSelector({\n  itemMap,\n  selectedChartTypes,\n  handler,\n  splitItem = ''\n}) {\n  const handleChange = event => {\n    const name = event.target.dataset.value\n    const newTypes = [...selectedChartTypes]\n    const hasSelected = selectedChartTypes.includes(name)\n\n    if (hasSelected) {\n      newTypes.splice(selectedChartTypes.indexOf(name), 1)\n    } else {\n      newTypes.push(name)\n    }\n\n    const sortTypes = itemMap\n      .map(item => item.name)\n      .filter(item => newTypes.includes(item))\n    handler(sortTypes)\n  }\n\n  let splitItemIndex = itemMap.findIndex(item => item.name === splitItem)\n  splitItemIndex = splitItemIndex === -1 ? itemMap.length : splitItemIndex\n\n  const itemGroupOne = itemMap.slice(0, splitItemIndex)\n  const itemGroupTwo = itemMap.slice(splitItemIndex, itemMap.length)\n\n  const itemFactory = (item, index) => (\n    <span\n      key={item.name}\n      tabIndex={index}\n      className={`item ${\n        selectedChartTypes.includes(item.name) ? 'active' : ''\n      } `}\n      data-value={item.name}\n      onClick={handleChange}\n      onKeyDown={handleChange}\n      role=\"button\"\n    >\n      {item.name}\n    </span>\n  )\n  const groupOneItems = itemGroupOne.map((item, index) =>\n    itemFactory(item, index)\n  )\n\n  const groupTwoItems = itemGroupTwo.map((item, index) =>\n    itemFactory(item, index)\n  )\n\n  return (\n    <div className=\"item-selector\">\n      <div className=\"group\">{groupOneItems}</div>\n      <div className=\"group\">{groupTwoItems}</div>\n    </div>\n  )\n}\n\nItemSelector.propTypes = {\n  itemMap: PropTypes.arrayOf(\n    PropTypes.shape({\n      targetValue: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n      name: PropTypes.string\n    })\n  ).isRequired,\n  selectedChartTypes: PropTypes.arrayOf(PropTypes.string).isRequired,\n  handler: PropTypes.func.isRequired,\n  splitItem: PropTypes.string\n}\n\nItemSelector.defaultProps = {\n  splitItem: ''\n}\nexport default ItemSelector\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport AnnotationsModule from 'highcharts/modules/annotations'\nimport Api from '../../api/api'\nimport { hightChartCommon } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport { debounce, toThousands } from '../../utils/index'\nimport ItemSelector from '../common/item-selector/ItemSelector'\nimport './style.css'\n\nAnnotationsModule(Highcharts)\nfunction OptionOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '外資 Buy Call 未平倉量',\n      targetValue: 'f_buy_call'\n    },\n    {\n      name: '外資 Buy Call 未平倉金額',\n      targetValue: 'f_buy_call_amount'\n    },\n    {\n      name: '外資 Buy Put 未平倉量',\n      targetValue: 'f_buy_put'\n    },\n    {\n      name: '外資 Buy Put 未平倉金額',\n      targetValue: 'f_buy_put_amount'\n    },\n    {\n      name: '外資 Sell Call 未平倉量',\n      targetValue: 'f_sell_call'\n    },\n    {\n      name: '外資 Sell Call 未平倉金額',\n      targetValue: 'f_sell_call_amount'\n    },\n    {\n      name: '外資 Sell Put 未平倉量',\n      targetValue: 'f_sell_put'\n    },\n    {\n      name: '外資 Sell Put 未平倉金額',\n      targetValue: 'f_sell_put_amount'\n    },\n    {\n      name: '外資多方口數',\n      targetValue: 'f_long'\n    },\n    {\n      name: '外資多方契約金額',\n      targetValue: 'f_long_amount'\n    },\n    {\n      name: '外資空方口數',\n      targetValue: 'f_short'\n    },\n    {\n      name: '外資空方契約金額',\n      targetValue: 'f_short_amount'\n    },\n    {\n      name: '外資多空淨額口數',\n      targetValue: 'f_net'\n    },\n    {\n      name: '外資多空淨額契約金額',\n      targetValue: 'f_net_amount'\n    },\n    {\n      name: '自營 Buy Call 未平倉量',\n      targetValue: 'self_buy_call'\n    },\n    {\n      name: '自營 Buy Call 未平倉金額',\n      targetValue: 'self_buy_call_amount'\n    },\n    {\n      name: '自營 Buy Put 未平倉量',\n      targetValue: 'self_buy_put'\n    },\n    {\n      name: '自營 Buy Put 未平倉金額',\n      targetValue: 'self_buy_put_amount'\n    },\n    {\n      name: '自營 Sell Call 未平倉量',\n      targetValue: 'self_sell_call'\n    },\n    {\n      name: '自營 Sell Call 未平倉金額',\n      targetValue: 'self_sell_call_amount'\n    },\n    {\n      name: '自營 Sell Put 未平倉量',\n      targetValue: 'self_sell_put'\n    },\n    {\n      name: '自營 Sell Put 未平倉金額',\n      targetValue: 'self_sell_put_amount'\n    },\n    {\n      name: '自營多方口數',\n      targetValue: 'self_long'\n    },\n    {\n      name: '自營多方契約金額',\n      targetValue: 'self_long_amount'\n    },\n    {\n      name: '自營空方口數',\n      targetValue: 'self_short'\n    },\n    {\n      name: '自營空方契約金額',\n      targetValue: 'self_short_amount'\n    },\n    {\n      name: '自營多空淨額口數',\n      targetValue: 'self_net'\n    },\n    {\n      name: '自營多空淨額契約金額',\n      targetValue: 'self_net_amount'\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const chartComponents = useRef([])\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  let keepHoverDate = ''\n  function handleHoverDate(date, chartTitle) {\n    const charts = chartComponents.current.filter(\n      chartComponent => chartComponent\n    )\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      chart.removeAnnotation(keepHoverDate)\n    })\n\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      if (chart.options.title.text !== chartTitle) {\n        const value = chart.get(date).y\n        chart.addAnnotation({\n          id: date,\n          labelOptions: {\n            y: 15,\n            verticalAlign: 'bottom',\n            distance: 25\n          },\n          labels: [\n            {\n              point: date,\n              text: `${toThousands(value)}`\n            }\n          ]\n        })\n      }\n    })\n\n    keepHoverDate = date\n  }\n\n  const debounceHandleHoverDate = debounce(handleHoverDate, 100)\n\n  useEffect(() => {\n    Api.getOptionOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return hightChartCommon({\n        subject: name,\n        yName: '值',\n        year,\n        data: stockData,\n        handleHoverDate: debounceHandleHoverDate\n      })\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  return (\n    <div className=\"option-open-wrapper\">\n      <div className=\"title-wrap\">\n        <span className=\"title\">選擇權未平倉</span>\n        <span\n          className=\"clear-action\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n        splitItem=\"自營 Buy Call 未平倉量\"\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          key={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nOptionOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default OptionOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport OptionOpenInterest from '../components/option-open-interest/OptionOpenInterest'\n\nfunction OptionOpenInterestVIew() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"option-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <OptionOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default OptionOpenInterestVIew\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport Api from '../../api/api'\nimport { hightChartMultiple } from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport ItemSelector from '../common/item-selector/ItemSelector'\nimport './style.css'\n\nfunction FuturesOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '多方口數',\n      targetValue: ['bull_foreign', 'bull_self']\n    },\n    {\n      name: '多方金額',\n      targetValue: ['bull_foreign_amount', 'bull_self_amount']\n    },\n    {\n      name: '空方口數',\n      targetValue: ['bear_foreign', 'bear_self']\n    },\n    {\n      name: '空方金額',\n      targetValue: ['bear_foreign_amount', 'bear_self_amount']\n    },\n    {\n      name: '多空淨額口數',\n      targetValue: ['diff_foreign', 'diff_self']\n    },\n    {\n      name: '多空淨額金額',\n      targetValue: ['diff_foreign_amount', 'diff_self_amount']\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const chartComponents = useRef([])\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  useEffect(() => {\n    Api.getFuturesOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function seriesDataFactory(targetPropertyCheck, targetValue) {\n      const stockData = []\n      const targetProperty = targetValue.filter(item =>\n        item.includes(targetPropertyCheck)\n      )[0]\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        let yValue = parseInt(item[targetProperty])\n\n        if (targetPropertyCheck === 'total') {\n          yValue =\n            parseInt(item[targetValue[0]]) + parseInt(item[targetValue[1]])\n        }\n        obj.y = yValue\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return stockData\n    }\n\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const seriesTypes = [\n        {\n          name: '外資',\n          targetPropertyCheck: 'foreign',\n          color: '#054099'\n        },\n        {\n          name: '自營',\n          targetPropertyCheck: 'self',\n          color: '#a86206'\n        },\n        {\n          name: '總和',\n          targetPropertyCheck: 'total',\n          color: '#207506'\n        }\n      ]\n\n      const series = seriesTypes.map(seriesType => ({\n        name: seriesType.name,\n        data: seriesDataFactory(seriesType.targetPropertyCheck, targetValue),\n        color: seriesType.color\n      }))\n\n      return hightChartMultiple(name, '值', year, series)\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  return (\n    <div className=\"option-open-wrapper\">\n      <div className=\"title-wrap\">\n        <span className=\"title\">期貨未平倉</span>\n        <span\n          className=\"clear-action\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          key={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nFuturesOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default FuturesOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport FuturesOpenInterest from '../components/futures-open-interest/FuturesOpenInterest'\n\nfunction FuturesOpenInterestView() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"futures-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <FuturesOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default FuturesOpenInterestView\n","import React, { useState, useEffect, useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport Highcharts from 'highcharts/highstock'\nimport HighchartsReact from 'highcharts-react-official'\nimport AnnotationsModule from 'highcharts/modules/annotations'\nimport Api from '../../api/api'\nimport {\n  hightChartCommon,\n  hightChartMultiple\n} from '../../utils/hightChartOptionsFactory'\nimport { zoomToAll } from '../../utils/chart'\nimport { debounce, toThousands } from '../../utils/index'\nimport ItemSelector from '../common/item-selector/ItemSelector'\nimport './style.css'\n\nAnnotationsModule(Highcharts)\nfunction FuturesBigOpenInterest({ year }) {\n  const chartTypes = [\n    {\n      name: '買方-前五大交易人',\n      targetValue: 'buy_top_five',\n      color: '#c0110b'\n    },\n    {\n      name: '買方-前十大交易人',\n      targetValue: 'buy_top_ten',\n      color: '#e75427'\n    },\n    {\n      name: '賣方-前五大交易人',\n      targetValue: 'sell_top_five',\n      color: '#0f740c'\n    },\n    {\n      name: '賣方-前十大交易人',\n      targetValue: 'sell_top_ten',\n      color: '#19c962'\n    },\n    {\n      name: '市場未平倉',\n      targetValue: 'total',\n      color: '#021f9e'\n    }\n  ]\n  const [chartOptions, setChartOptions] = useState([])\n  const [chartCombineOptions, setChartCombineOptions] = useState([])\n  const chartComponents = useRef([])\n  const chartCombineComponents = useRef({})\n  const [apiData, setApiData] = useState({})\n  const [selectedChartTypes, setChartType] = useState([])\n\n  function clearAll() {\n    setChartType([])\n  }\n\n  let keepHoverDate = ''\n  function handleHoverDate(date, chartTitle) {\n    const charts = chartComponents.current.filter(\n      chartComponent => chartComponent\n    )\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      chart.removeAnnotation(keepHoverDate)\n    })\n\n    charts.forEach(chartComponent => {\n      const { chart } = chartComponent\n      if (chart.options.title.text !== chartTitle) {\n        const value = chart.get(date).y\n        chart.addAnnotation({\n          id: date,\n          labelOptions: {\n            y: 15,\n            verticalAlign: 'bottom',\n            distance: 25\n          },\n          labels: [\n            {\n              point: date,\n              text: `${toThousands(value)}`\n            }\n          ]\n        })\n      }\n    })\n\n    keepHoverDate = date\n  }\n\n  const debounceHandleHoverDate = debounce(handleHoverDate, 100)\n\n  useEffect(() => {\n    Api.getFuturesBigOpen(year).then(res => {\n      setApiData(res)\n    })\n  }, [year])\n\n  useEffect(() => {\n    function chartOptionFactory(type) {\n      const { name, targetValue } = chartTypes.filter(\n        item => item.name === type\n      )[0]\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return hightChartCommon({\n        subject: name,\n        yName: '值',\n        year,\n        data: stockData,\n        handleHoverDate: debounceHandleHoverDate\n      })\n    }\n    const options = selectedChartTypes.map(type => chartOptionFactory(type))\n\n    setChartOptions(options)\n\n    chartComponents.current.forEach(component => {\n      zoomToAll(component?.current?.chart)\n    })\n  }, [selectedChartTypes, apiData])\n\n  useEffect(() => {\n    function seriesDataFactory(targetValue) {\n      const stockData = []\n\n      for (const date in apiData) {\n        const item = apiData[date]\n        const obj = {}\n\n        obj.y = parseInt(item[targetValue])\n        obj.x = Date.parse(date)\n        obj.date = date\n        obj.is_settle = item.is_settle\n        obj.id = date\n        stockData.push(obj)\n      }\n\n      return stockData\n    }\n    function chartOptionFactory() {\n      const series = chartTypes.map(seriesType => ({\n        name: seriesType.name,\n        data: seriesDataFactory(seriesType.targetValue),\n        color: seriesType.color\n      }))\n\n      return hightChartMultiple('期貨大額交易人未沖銷部位', '值', year, series)\n    }\n\n    const options = chartOptionFactory()\n\n    setChartCombineOptions(options)\n    setTimeout(() => {\n      zoomToAll(chartCombineComponents?.current?.chart)\n    }, 0)\n  }, [apiData])\n\n  return (\n    <div className=\"option-open-wrapper\">\n      <div className=\"title-wrap\">\n        <span className=\"title\">期貨大額交易人未沖銷部位</span>\n        <span\n          className=\"clear-action\"\n          onClick={clearAll}\n          onKeyDown={clearAll}\n          role=\"button\"\n          tabIndex=\"0\"\n        >\n          清空\n        </span>\n      </div>\n      <ItemSelector\n        itemMap={chartTypes}\n        handler={setChartType}\n        selectedChartTypes={selectedChartTypes}\n      />\n      <HighchartsReact\n        ref={chartCombineComponents}\n        highcharts={Highcharts}\n        constructorType=\"stockChart\"\n        options={chartCombineOptions}\n      />\n      {chartOptions.map((option, index) => (\n        <HighchartsReact\n          key={option.title.text}\n          ref={element => (chartComponents.current[index] = element)}\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={option}\n        />\n      ))}\n    </div>\n  )\n}\n\nFuturesBigOpenInterest.propTypes = {\n  year: PropTypes.string.isRequired\n}\n\nexport default FuturesBigOpenInterest\n","import React, { useState } from 'react'\nimport WeightedIndex from '../components/weighted-index/WeightedIndex'\nimport YearSelector from '../components/common/year-selector/YearSelector'\nimport FuturesBigOpenInterest from '../components/futures-big-open-interest/FuturesBigOpenInterest'\n\nfunction FuturesBigOpenInterestView() {\n  const defaultYear = new Date().getFullYear()\n  const [year, setYear] = useState(String(defaultYear))\n\n  return (\n    <div className=\"futures-big-open-interest\">\n      <YearSelector defaultYear={defaultYear} year={year} handler={setYear} />\n      <WeightedIndex year={year} />\n      <FuturesBigOpenInterest year={year} />\n    </div>\n  )\n}\n\nexport default FuturesBigOpenInterestView\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport './style.css'\n\nfunction Navigation() {\n  const navMap = [\n    {\n      text: '選擇權未平倉',\n      route: 'option-open-interest'\n    },\n    {\n      text: '期貨未平倉',\n      route: 'futures-open-interest'\n    },\n    {\n      text: '期貨大額交易人未沖銷',\n      route: 'futures-big-open-interest'\n    },\n    {\n      text: '融券(借券賣出)分析',\n      route: 'loan-and-lending-analysis'\n    }\n  ]\n  return (\n    <div className=\"navigation\">\n      {navMap.map(item => (\n        <NavLink\n          key={item.text}\n          className=\"nav-item\"\n          activeClassName=\"selected\"\n          to={`/${item.route}`}\n        >\n          {item.text}\n        </NavLink>\n      ))}\n    </div>\n  )\n}\n\nexport default Navigation\n","// Ｘ天連續借券賣出\nexport const getLendingByDay = (resData, { day }) => {\n  const target = resData.filter(item => {\n    let { credit_data: creditData } = item\n    creditData = Object.keys(creditData).map(date => creditData[date])\n    const creditLength = creditData.length\n\n    if (creditLength < day) {\n      return false\n    }\n\n    for (let i = creditLength - 1; i >= creditLength - day; i -= 1) {\n      const byDayData = creditData[i]\n      if (byDayData.bw_sell_on_day === 0) {\n        return false\n      }\n    }\n    return true\n  })\n\n  return target\n}\n\n// X天借券賣出餘額減少\nexport const getLendingBalanceReduceByDay = (resData, { day }) => {\n  const target = resData.filter(item => {\n    let { credit_data: creditData } = item\n    creditData = Object.keys(creditData).map(date => creditData[date])\n    const creditLength = creditData.length\n\n    if (creditLength < day) {\n      return false\n    }\n\n    for (let i = creditLength - 1; i >= creditLength - day; i -= 1) {\n      const byDayData = creditData[i]\n      if (byDayData.bw_return_on_day - byDayData.bw_sell_on_day <= 0) {\n        return false\n      }\n    }\n    return true\n  })\n\n  return target\n}\n\nexport const filterStockFuturesList = stockFuturesList => resData =>\n  resData.filter(\n    item => stockFuturesList.findIndex(stock => stock.code === item.code) !== -1\n  )\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport './rule-input.css'\n\nfunction RuleInput({ ruleName, toggleRule, text, actionType }) {\n  const [checked, setChecked] = useState(false)\n  const [dayInput, setDayInput] = useState('')\n\n  function handleCheck(event) {\n    const { target } = event\n    const value = target.type === 'checkbox' ? target.checked : target.value\n    setChecked(value)\n    toggleRule({ ruleName, isEnable: value, data: { day: dayInput } })\n  }\n\n  function handleDayInput(event) {\n    const { target } = event\n    const { value } = target\n\n    setDayInput(value)\n  }\n\n  useEffect(() => {\n    toggleRule({ ruleName, isEnable: checked, data: { day: dayInput } })\n  }, [dayInput])\n\n  return (\n    <div className=\"rule-input\">\n      <input\n        name={ruleName}\n        type=\"checkbox\"\n        checked={checked}\n        onChange={handleCheck}\n      />\n      {actionType === 'byDay' ? (\n        <div className=\"day-wrap\">\n          <input name=\"dayInput\" type=\"text\" onChange={handleDayInput} />\n          <span>天連續</span>\n        </div>\n      ) : null}\n      <span>{text}</span>\n    </div>\n  )\n}\n\nRuleInput.propTypes = {\n  ruleName: PropTypes.string.isRequired,\n  toggleRule: PropTypes.func.isRequired,\n  text: PropTypes.string.isRequired,\n  actionType: PropTypes.string.isRequired\n}\n\nexport default RuleInput\n","import React, { useState, useEffect } from 'react'\nimport {\n  getLendingByDay,\n  getLendingBalanceReduceByDay,\n  filterStockFuturesList\n} from './rules'\nimport RuleInput from './RuleInput'\nimport Api from '../../api/api'\nimport './loan.css'\n\nfunction LoanAndLendingAnalysis() {\n  const [stockFuturesList, setStockFuturesList] = useState([])\n  useEffect(() => {\n    Api.getStockFuturesList().then(res => {\n      setStockFuturesList(res)\n    })\n  }, [])\n\n  const rulesMap = [\n    {\n      ruleName: 'LendingByDay',\n      text: '借券賣出',\n      callBack: getLendingByDay,\n      actionType: 'byDay'\n    },\n    {\n      ruleName: 'LendingBalanceReduceByDay',\n      text: '借券賣出餘額減少',\n      callBack: getLendingBalanceReduceByDay,\n      actionType: 'byDay'\n    },\n    {\n      ruleName: 'FilterStockFuturesList',\n      text: '過濾股票期貨',\n      callBack: filterStockFuturesList(stockFuturesList),\n      actionType: 'check'\n    }\n  ]\n\n  const [activeRules, setActiveRules] = useState([])\n  const [apiData, setApiData] = useState({})\n  const [creditData, setCreditData] = useState([])\n  const [result, setResult] = useState([])\n  const [stockInfo, setStockInfo] = useState(null)\n  const [selectedCode, setSelectedCode] = useState('')\n\n  function toggleRule(ruleObj) {\n    const { ruleName, isEnable } = ruleObj\n\n    const newRules = [...activeRules]\n\n    if (isEnable) {\n      const targetRule = rulesMap.find(rule => rule.ruleName === ruleName)\n      const index = activeRules.findIndex(rule => rule.ruleName === ruleName)\n      const hasEnable = index !== -1\n      const newObj = {\n        ...targetRule,\n        ...ruleObj\n      }\n\n      if (hasEnable) {\n        newRules[index] = newObj\n      } else {\n        newRules.push(newObj)\n      }\n    } else {\n      const index = activeRules.findIndex(rule => rule.ruleName === ruleName)\n      newRules.splice(index, 1)\n    }\n\n    setActiveRules(newRules)\n  }\n\n  function getResult() {\n    const res = activeRules.reduce(\n      (acc, cur) => cur.callBack(acc, cur.data),\n      creditData\n    )\n\n    setResult(res)\n    setStockInfo(null)\n    setSelectedCode('')\n  }\n\n  function formatInfoData(value) {\n    return +parseFloat(value / 1000).toFixed(0)\n  }\n\n  useEffect(() => {\n    setStockInfo(apiData[selectedCode])\n  }, [selectedCode])\n\n  useEffect(() => {\n    Api.getLoanAndLending().then(res => {\n      const data = Object.keys(res).map(item => res[item])\n      setApiData(res)\n      setCreditData(data)\n    })\n  }, [])\n\n  return (\n    <div className=\"analysis-wrap\">\n      <div className=\"rules-wrap\">\n        <div className=\"rules\">\n          {rulesMap.map(rule => (\n            <RuleInput\n              key={rule.ruleName}\n              ruleName={rule.ruleName}\n              text={rule.text}\n              toggleRule={toggleRule}\n              actionType={rule.actionType}\n            />\n          ))}\n        </div>\n        <span\n          className=\"action-btn\"\n          role=\"button\"\n          tabIndex=\"0\"\n          onClick={getResult}\n          onKeyDown={getResult}\n        >\n          取得結果\n        </span>\n      </div>\n      <div className={`res-wrap ${result.length ? '' : 'hidden'}`}>\n        {result.map(item => (\n          <span\n            key={item.code}\n            className={selectedCode === item.code ? 'active' : ''}\n            role=\"button\"\n            tabIndex=\"0\"\n            onClick={() => setSelectedCode(item.code)}\n            onKeyDown={() => setSelectedCode(item.code)}\n          >\n            {item.code} {item.name}\n          </span>\n        ))}\n      </div>\n      <div className={`stock-info ${stockInfo ? '' : 'hidden'}`}>\n        <table className=\"info-table\">\n          <thead>\n            <tr role=\"row\">\n              <th rowSpan=\"2\">\n                {stockInfo?.code} {stockInfo?.name}\n              </th>\n              <th colSpan=\"6\">融券</th>\n              <th colSpan=\"6\">借券賣出</th>\n            </tr>\n            <tr role=\"row\">\n              <th>前日餘額</th>\n              <th>賣出</th>\n              <th>買進</th>\n              <th>現券</th>\n              <th>今日餘額</th>\n              <th>限額</th>\n              <th>前日餘額</th>\n              <th>當日賣出</th>\n              <th>當日還券</th>\n              <th>當日調整</th>\n              <th>當日餘額</th>\n              <th>次一營業日可限額</th>\n            </tr>\n          </thead>\n          <tbody>\n            {Object.keys(stockInfo?.credit_data || {})\n              .sort((a, b) => new Date(b) - new Date(a))\n              .map(date => {\n                const data = stockInfo.credit_data[date]\n                return (\n                  <tr key={date}>\n                    <td>{date}</td>\n                    <td>{formatInfoData(data.sl_preDay_balance)}</td>\n                    <td>{formatInfoData(data.sl_sell)}</td>\n                    <td>{formatInfoData(data.sl_buy)}</td>\n                    <td>{formatInfoData(data.sl_cash_stock)}</td>\n                    <td>{formatInfoData(data.sl_day_balance)}</td>\n                    <td>{formatInfoData(data.sl_limit)}</td>\n                    <td>{formatInfoData(data.bw_preDay_balance)}</td>\n                    <td>{formatInfoData(data.bw_sell_on_day)}</td>\n                    <td>{formatInfoData(data.bw_return_on_day)}</td>\n                    <td>{formatInfoData(data.bw_adjust_on_day)}</td>\n                    <td>{formatInfoData(data.bw_day_balance)}</td>\n                    <td>\n                      {formatInfoData(data.bw_limit_on_next_business_day)}\n                    </td>\n                  </tr>\n                )\n              })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n\nexport default LoanAndLendingAnalysis\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport OptionOpenInterestVIew from './view/OptionOpenInterestVIew'\nimport FuturesOpenInterestView from './view/FuturesOpenInterestView'\nimport FuturesBigOpenInterestView from './view/FuturesBigOpenInterestView'\nimport Navigation from './components/navigation/Navigation'\nimport LoanAndLendingAnalysis from './components/loan-and-lending-analysis/LoanAndLendingAnalysis'\n\nimport './App.css'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Navigation />\n        <div className=\"main\">\n          <Switch>\n            <Route path=\"/option-open-interest\">\n              <OptionOpenInterestVIew />\n            </Route>\n            <Route path=\"/futures-open-interest\">\n              <FuturesOpenInterestView />\n            </Route>\n            <Route path=\"/futures-big-open-interest\">\n              <FuturesBigOpenInterestView />\n            </Route>\n            <Route path=\"/loan-and-lending-analysis\">\n              <LoanAndLendingAnalysis />\n            </Route>\n            <Route path=\"/\">\n              <OptionOpenInterestVIew />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}